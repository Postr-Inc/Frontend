(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const Xt={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Ot(this.context.count)},getNextContextId(){return Ot(this.context.count++)}};function Ot(e){const t=String(e),r=t.length-1;return Xt.context.id+(r?String.fromCharCode(96+r):"")+t}const Nr=(e,t)=>e===t,Xe=Symbol("solid-proxy"),Qt=typeof Proxy=="function",Ur=Symbol("solid-track"),Qe={equals:Nr};let Te=null,er=lr;const fe=1,et=2,tr={owned:null,cleanups:null,context:null,owner:null};var K=null;let ct=null,Dr=null,W=null,ne=null,se=null,lt=0;function Ce(e,t){const r=W,l=K,n=e.length===0,o=t===void 0?l:t,i=n?tr:{owned:null,cleanups:null,context:o?o.context:null,owner:o},s=n?e:()=>e(()=>oe(()=>Be(i)));K=i,W=null;try{return pe(s,!0)}finally{W=r,K=l}}function R(e,t){t=t?Object.assign({},Qe,t):Qe;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},l=n=>(typeof n=="function"&&(n=n(r.value)),nr(r,n));return[rr.bind(r),l]}function z(e,t,r){const l=st(e,t,!1,fe);De(l)}function ce(e,t,r){er=Zr;const l=st(e,t,!1,fe);(!r||!r.render)&&(l.user=!0),se?se.push(l):De(l)}function j(e,t,r){r=r?Object.assign({},Qe,r):Qe;const l=st(e,t,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=r.equals||void 0,De(l),rr.bind(l)}function Vr(e){return pe(e,!1)}function oe(e){if(W===null)return e();const t=W;W=null;try{return e()}finally{W=t}}function kt(e,t,r){const l=Array.isArray(e);let n,o=r&&r.defer;return i=>{let s;if(l){s=Array(e.length);for(let c=0;c<e.length;c++)s[c]=e[c]()}else s=e();if(o)return o=!1,i;const a=oe(()=>t(s,n,i));return n=s,a}}function Fr(e){ce(()=>oe(e))}function ye(e){return K===null||(K.cleanups===null?K.cleanups=[e]:K.cleanups.push(e)),e}function qr(e,t){Te||(Te=Symbol("error")),K=st(void 0,void 0,!0),K.context={...K.context,[Te]:[t]};try{return e()}catch(r){Ve(r)}finally{K=K.owner}}function _t(){return K}function St(e,t){const r=K,l=W;K=e,W=null;try{return pe(t,!0)}catch(n){Ve(n)}finally{K=r,W=l}}function Kr(e){const t=W,r=K;return Promise.resolve().then(()=>{W=t,K=r;let l;return pe(e,!1),W=K=null,l?l.done:void 0})}function Ct(e,t){const r=Symbol("context");return{id:r,Provider:Jr(r),defaultValue:e}}function Pt(e){let t;return K&&K.context&&(t=K.context[e.id])!==void 0?t:e.defaultValue}function ot(e){const t=j(e),r=j(()=>wt(t()));return r.toArray=()=>{const l=r();return Array.isArray(l)?l:l!=null?[l]:[]},r}function rr(){if(this.sources&&this.state)if(this.state===fe)De(this);else{const e=ne;ne=null,pe(()=>rt(this),!1),ne=e}if(W){const e=this.observers?this.observers.length:0;W.sources?(W.sources.push(this),W.sourceSlots.push(e)):(W.sources=[this],W.sourceSlots=[e]),this.observers?(this.observers.push(W),this.observerSlots.push(W.sources.length-1)):(this.observers=[W],this.observerSlots=[W.sources.length-1])}return this.value}function nr(e,t,r){let l=e.value;return(!e.comparator||!e.comparator(l,t))&&(e.value=t,e.observers&&e.observers.length&&pe(()=>{for(let n=0;n<e.observers.length;n+=1){const o=e.observers[n],i=ct&&ct.running;i&&ct.disposed.has(o),(i?!o.tState:!o.state)&&(o.pure?ne.push(o):se.push(o),o.observers&&or(o)),i||(o.state=fe)}if(ne.length>1e6)throw ne=[],new Error},!1)),t}function De(e){if(!e.fn)return;Be(e);const t=lt;Hr(e,e.value,t)}function Hr(e,t,r){let l;const n=K,o=W;W=K=e;try{l=e.fn(t)}catch(i){return e.pure&&(e.state=fe,e.owned&&e.owned.forEach(Be),e.owned=null),e.updatedAt=r+1,Ve(i)}finally{W=o,K=n}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?nr(e,l):e.value=l,e.updatedAt=r)}function st(e,t,r,l=fe,n){const o={fn:e,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:K,context:K?K.context:null,pure:r};return K===null||K!==tr&&(K.owned?K.owned.push(o):K.owned=[o]),o}function tt(e){if(e.state===0)return;if(e.state===et)return rt(e);if(e.suspense&&oe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<lt);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===fe)De(e);else if(e.state===et){const l=ne;ne=null,pe(()=>rt(e,t[0]),!1),ne=l}}function pe(e,t){if(ne)return e();let r=!1;t||(ne=[]),se?r=!0:se=[],lt++;try{const l=e();return Gr(r),l}catch(l){r||(se=null),ne=null,Ve(l)}}function Gr(e){if(ne&&(lr(ne),ne=null),e)return;const t=se;se=null,t.length&&pe(()=>er(t),!1)}function lr(e){for(let t=0;t<e.length;t++)tt(e[t])}function Zr(e){let t,r=0;for(t=0;t<e.length;t++){const l=e[t];l.user?e[r++]=l:tt(l)}for(t=0;t<r;t++)tt(e[t])}function rt(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const l=e.sources[r];if(l.sources){const n=l.state;n===fe?l!==t&&(!l.updatedAt||l.updatedAt<lt)&&tt(l):n===et&&rt(l,t)}}}function or(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=et,r.pure?ne.push(r):se.push(r),r.observers&&or(r))}}function Be(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),l=e.sourceSlots.pop(),n=r.observers;if(n&&n.length){const o=n.pop(),i=r.observerSlots.pop();l<n.length&&(o.sourceSlots[i]=l,n[l]=o,r.observerSlots[l]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Be(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Be(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Wr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Tt(e,t,r){try{for(const l of t)l(e)}catch(l){Ve(l,r&&r.owner||null)}}function Ve(e,t=K){const r=Te&&t&&t.context&&t.context[Te],l=Wr(e);if(!r)throw l;se?se.push({fn(){Tt(l,r,t)},state:fe}):Tt(l,r,t)}function wt(e){if(typeof e=="function"&&!e.length)return wt(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const l=wt(e[r]);Array.isArray(l)?t.push.apply(t,l):t.push(l)}return t}return e}function Jr(e,t){return function(l){let n;return z(()=>n=oe(()=>(K.context={...K.context,[e]:l.value},ot(()=>l.children))),void 0),n}}const Yr=Symbol("fallback");function It(e){for(let t=0;t<e.length;t++)e[t]()}function Xr(e,t,r={}){let l=[],n=[],o=[],i=0,s=t.length>1?[]:null;return ye(()=>It(o)),()=>{let a=e()||[],c=a.length,u,d;return a[Ur],oe(()=>{let g,_,w,b,x,v,P,$,M;if(c===0)i!==0&&(It(o),o=[],l=[],n=[],i=0,s&&(s=[])),r.fallback&&(l=[Yr],n[0]=Ce(k=>(o[0]=k,r.fallback())),i=1);else if(i===0){for(n=new Array(c),d=0;d<c;d++)l[d]=a[d],n[d]=Ce(h);i=c}else{for(w=new Array(c),b=new Array(c),s&&(x=new Array(c)),v=0,P=Math.min(i,c);v<P&&l[v]===a[v];v++);for(P=i-1,$=c-1;P>=v&&$>=v&&l[P]===a[$];P--,$--)w[$]=n[P],b[$]=o[P],s&&(x[$]=s[P]);for(g=new Map,_=new Array($+1),d=$;d>=v;d--)M=a[d],u=g.get(M),_[d]=u===void 0?-1:u,g.set(M,d);for(u=v;u<=P;u++)M=l[u],d=g.get(M),d!==void 0&&d!==-1?(w[d]=n[u],b[d]=o[u],s&&(x[d]=s[u]),d=_[d],g.set(M,d)):o[u]();for(d=v;d<c;d++)d in w?(n[d]=w[d],o[d]=b[d],s&&(s[d]=x[d],s[d](d))):n[d]=Ce(h);n=n.slice(0,i=c),l=a.slice(0)}return n});function h(g){if(o[d]=g,s){const[_,w]=R(d);return s[d]=w,t(a[d],_)}return t(a[d])}}}function f(e,t){return oe(()=>e(t||{}))}function He(){return!0}const bt={get(e,t,r){return t===Xe?r:e.get(t)},has(e,t){return t===Xe?!0:e.has(t)},set:He,deleteProperty:He,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:He,deleteProperty:He}},ownKeys(e){return e.keys()}};function ut(e){return(e=typeof e=="function"?e():e)?e:{}}function Qr(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function te(...e){let t=!1;for(let i=0;i<e.length;i++){const s=e[i];t=t||!!s&&Xe in s,e[i]=typeof s=="function"?(t=!0,j(s)):s}if(Qt&&t)return new Proxy({get(i){for(let s=e.length-1;s>=0;s--){const a=ut(e[s])[i];if(a!==void 0)return a}},has(i){for(let s=e.length-1;s>=0;s--)if(i in ut(e[s]))return!0;return!1},keys(){const i=[];for(let s=0;s<e.length;s++)i.push(...Object.keys(ut(e[s])));return[...new Set(i)]}},bt);const r={},l=Object.create(null);for(let i=e.length-1;i>=0;i--){const s=e[i];if(!s)continue;const a=Object.getOwnPropertyNames(s);for(let c=a.length-1;c>=0;c--){const u=a[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(s,u);if(!l[u])l[u]=d.get?{enumerable:!0,configurable:!0,get:Qr.bind(r[u]=[d.get.bind(s)])}:d.value!==void 0?d:void 0;else{const h=r[u];h&&(d.get?h.push(d.get.bind(s)):d.value!==void 0&&h.push(()=>d.value))}}}const n={},o=Object.keys(l);for(let i=o.length-1;i>=0;i--){const s=o[i],a=l[s];a&&a.get?Object.defineProperty(n,s,a):n[s]=a?a.value:void 0}return n}function Fe(e,...t){if(Qt&&Xe in e){const n=new Set(t.length>1?t.flat():t[0]),o=t.map(i=>new Proxy({get(s){return i.includes(s)?e[s]:void 0},has(s){return i.includes(s)&&s in e},keys(){return i.filter(s=>s in e)}},bt));return o.push(new Proxy({get(i){return n.has(i)?void 0:e[i]},has(i){return n.has(i)?!1:i in e},keys(){return Object.keys(e).filter(i=>!n.has(i))}},bt)),o}const r={},l=t.map(()=>({}));for(const n of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,n),i=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let s=!1,a=0;for(const c of t)c.includes(n)&&(s=!0,i?l[a][n]=o.value:Object.defineProperty(l[a],n,o)),++a;s||(i?r[n]=o.value:Object.defineProperty(r,n,o))}return[...l,r]}const sr=e=>`Stale read from <${e}>.`;function de(e){const t="fallback"in e&&{fallback:()=>e.fallback};return j(Xr(()=>e.each,e.children,t||void 0))}function H(e){const t=e.keyed,r=j(()=>e.when,void 0,{equals:(l,n)=>t?l===n:!l==!n});return j(()=>{const l=r();if(l){const n=e.children;return typeof n=="function"&&n.length>0?oe(()=>n(t?l:()=>{if(!oe(r))throw sr("Show");return e.when})):n}return e.fallback},void 0,void 0)}function ie(e){let t=!1;const r=(o,i)=>(t?o[1]===i[1]:!o[1]==!i[1])&&o[2]===i[2],l=ot(()=>e.children),n=j(()=>{let o=l();Array.isArray(o)||(o=[o]);for(let i=0;i<o.length;i++){const s=o[i].when;if(s)return t=!!o[i].keyed,[i,s,o[i]]}return[-1]},void 0,{equals:r});return j(()=>{const[o,i,s]=n();if(o<0)return e.fallback;const a=s.children;return typeof a=="function"&&a.length>0?oe(()=>a(t?i:()=>{if(oe(n)[0]!==o)throw sr("Match");return s.when})):a},void 0,void 0)}function Q(e){return e}let Se;function en(){Se&&[...Se].forEach(e=>e())}function ir(e){let t;const[r,l]=R(t,void 0);return Se||(Se=new Set),Se.add(l),ye(()=>Se.delete(l)),j(()=>{let n;if(n=r()){const o=e.fallback;return typeof o=="function"&&o.length?oe(()=>o(n,()=>l())):o}return qr(()=>e.children,l)},void 0,void 0)}const tn=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],rn=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...tn]),nn=new Set(["innerHTML","textContent","innerText","children"]),ln=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),on=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function sn(e,t){const r=on[e];return typeof r=="object"?r[t]?r.$:void 0:r}const an=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),cn={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function un(e,t,r){let l=r.length,n=t.length,o=l,i=0,s=0,a=t[n-1].nextSibling,c=null;for(;i<n||s<o;){if(t[i]===r[s]){i++,s++;continue}for(;t[n-1]===r[o-1];)n--,o--;if(n===i){const u=o<l?s?r[s-1].nextSibling:r[o-s]:a;for(;s<o;)e.insertBefore(r[s++],u)}else if(o===s)for(;i<n;)(!c||!c.has(t[i]))&&t[i].remove(),i++;else if(t[i]===r[o-1]&&r[s]===t[n-1]){const u=t[--n].nextSibling;e.insertBefore(r[s++],t[i++].nextSibling),e.insertBefore(r[--o],u),t[n]=r[o]}else{if(!c){c=new Map;let d=s;for(;d<o;)c.set(r[d],d++)}const u=c.get(t[i]);if(u!=null)if(s<u&&u<o){let d=i,h=1,g;for(;++d<n&&d<o&&!((g=c.get(t[d]))==null||g!==u+h);)h++;if(h>u-s){const _=t[i];for(;s<u;)e.insertBefore(r[s++],_)}else e.replaceChild(r[s++],t[i++])}else i++;else t[i++].remove()}}}const Bt="_$DX_DELEGATE";function dn(e,t,r,l={}){let n;return Ce(o=>{n=o,t===document?e():m(t,e(),t.firstChild?null:void 0,r)},l.owner),()=>{n(),t.textContent=""}}function p(e,t,r){let l;const n=()=>{const i=document.createElement("template");return i.innerHTML=e,i.content.firstChild},o=()=>(l||(l=n())).cloneNode(!0);return o.cloneNode=o,o}function re(e,t=window.document){const r=t[Bt]||(t[Bt]=new Set);for(let l=0,n=e.length;l<n;l++){const o=e[l];r.has(o)||(r.add(o),t.addEventListener(o,vn))}}function G(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function fn(e,t,r,l){l==null?e.removeAttributeNS(t,r):e.setAttributeNS(t,r,l)}function hn(e,t,r){r?e.setAttribute(t,""):e.removeAttribute(t)}function F(e,t){t==null?e.removeAttribute("class"):e.className=t}function vt(e,t,r,l){if(l)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const n=r[0];e.addEventListener(t,r[0]=o=>n.call(e,r[1],o))}else e.addEventListener(t,r,typeof r!="function"&&r)}function gn(e,t,r={}){const l=Object.keys(t||{}),n=Object.keys(r);let o,i;for(o=0,i=n.length;o<i;o++){const s=n[o];!s||s==="undefined"||t[s]||(zt(e,s,!1),delete r[s])}for(o=0,i=l.length;o<i;o++){const s=l[o],a=!!t[s];!s||s==="undefined"||r[s]===a||!a||(zt(e,s,!0),r[s]=a)}return r}function mn(e,t,r){if(!t)return r?G(e,"style"):t;const l=e.style;if(typeof t=="string")return l.cssText=t;typeof r=="string"&&(l.cssText=r=void 0),r||(r={}),t||(t={});let n,o;for(o in r)t[o]==null&&l.removeProperty(o),delete r[o];for(o in t)n=t[o],n!==r[o]&&(l.setProperty(o,n),r[o]=n);return r}function X(e,t={},r,l){const n={};return l||z(()=>n.children=ze(e,t.children,n.children)),z(()=>typeof t.ref=="function"&&pn(t.ref,e)),z(()=>wn(e,t,r,!0,n,!0)),n}function pn(e,t,r){return oe(()=>e(t,r))}function m(e,t,r,l){if(r!==void 0&&!l&&(l=[]),typeof t!="function")return ze(e,t,l,r);z(n=>ze(e,t(),n,r),l)}function wn(e,t,r,l,n={},o=!1){t||(t={});for(const i in n)if(!(i in t)){if(i==="children")continue;n[i]=Nt(e,i,null,n[i],r,o,t)}for(const i in t){if(i==="children")continue;const s=t[i];n[i]=Nt(e,i,s,n[i],r,o,t)}}function bn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function zt(e,t,r){const l=t.trim().split(/\s+/);for(let n=0,o=l.length;n<o;n++)e.classList.toggle(l[n],r)}function Nt(e,t,r,l,n,o,i){let s,a,c,u,d;if(t==="style")return mn(e,r,l);if(t==="classList")return gn(e,r,l);if(r===l)return l;if(t==="ref")o||r(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);l&&e.removeEventListener(h,l,typeof l!="function"&&l),r&&e.addEventListener(h,r,typeof r!="function"&&r)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);l&&e.removeEventListener(h,l,!0),r&&e.addEventListener(h,r,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),g=an.has(h);if(!g&&l){const _=Array.isArray(l)?l[0]:l;e.removeEventListener(h,_)}(g||r)&&(vt(e,h,r,g),g&&re([h]))}else if(t.slice(0,5)==="attr:")G(e,t.slice(5),r);else if(t.slice(0,5)==="bool:")hn(e,t.slice(5),r);else if((d=t.slice(0,5)==="prop:")||(c=nn.has(t))||!n&&((u=sn(t,e.tagName))||(a=rn.has(t)))||(s=e.nodeName.includes("-")||"is"in i))d&&(t=t.slice(5),a=!0),t==="class"||t==="className"?F(e,r):s&&!a&&!c?e[bn(t)]=r:e[u||t]=r;else{const h=n&&t.indexOf(":")>-1&&cn[t.split(":")[0]];h?fn(e,h,t,r):G(e,ln[t]||t,r)}return r}function vn(e){let t=e.target;const r=`$$${e.type}`,l=e.target,n=e.currentTarget,o=a=>Object.defineProperty(e,"target",{configurable:!0,value:a}),i=()=>{const a=t[r];if(a&&!t.disabled){const c=t[`${r}Data`];if(c!==void 0?a.call(t,c,e):a.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},s=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const a=e.composedPath();o(a[0]);for(let c=0;c<a.length-2&&(t=a[c],!!i());c++){if(t._$host){t=t._$host,s();break}if(t.parentNode===n)break}}else s();o(l)}function ze(e,t,r,l,n){for(;typeof r=="function";)r=r();if(t===r)return r;const o=typeof t,i=l!==void 0;if(e=i&&r[0]&&r[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===r))return r;if(i){let s=r[0];s&&s.nodeType===3?s.data!==t&&(s.data=t):s=document.createTextNode(t),r=$e(e,r,l,s)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||o==="boolean")r=$e(e,r,l);else{if(o==="function")return z(()=>{let s=t();for(;typeof s=="function";)s=s();r=ze(e,s,r,l)}),()=>r;if(Array.isArray(t)){const s=[],a=r&&Array.isArray(r);if(xt(s,t,r,n))return z(()=>r=ze(e,s,r,l,!0)),()=>r;if(s.length===0){if(r=$e(e,r,l),i)return r}else a?r.length===0?Ut(e,s,l):un(e,r,s):(r&&$e(e),Ut(e,s));r=s}else if(t.nodeType){if(Array.isArray(r)){if(i)return r=$e(e,r,l,t);$e(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function xt(e,t,r,l){let n=!1;for(let o=0,i=t.length;o<i;o++){let s=t[o],a=r&&r[e.length],c;if(!(s==null||s===!0||s===!1))if((c=typeof s)=="object"&&s.nodeType)e.push(s);else if(Array.isArray(s))n=xt(e,s,a)||n;else if(c==="function")if(l){for(;typeof s=="function";)s=s();n=xt(e,Array.isArray(s)?s:[s],Array.isArray(a)?a:[a])||n}else e.push(s),n=!0;else{const u=String(s);a&&a.nodeType===3&&a.data===u?e.push(a):e.push(document.createTextNode(u))}}return n}function Ut(e,t,r=null){for(let l=0,n=t.length;l<n;l++)e.insertBefore(t[l],r)}function $e(e,t,r,l){if(r===void 0)return e.textContent="";const n=l||document.createTextNode("");if(t.length){let o=!1;for(let i=t.length-1;i>=0;i--){const s=t[i];if(n!==s){const a=s.parentNode===e;!o&&!i?a?e.replaceChild(n,s):e.insertBefore(n,r):a&&s.remove()}else o=!0}}else e.insertBefore(n,r);return[n]}const xn=()=>{},ar=!1,yn="http://www.w3.org/2000/svg";function $n(e,t=!1){return t?document.createElementNS(yn,e):document.createElement(e)}function qe(e){const{useShadow:t}=e,r=document.createTextNode(""),l=()=>e.mount||document.body,n=_t();let o,i=!!Xt.context;return ce(()=>{o||(o=St(n,()=>j(()=>e.children)));const s=l();if(s instanceof HTMLHeadElement){const[a,c]=R(!1),u=()=>c(!0);Ce(d=>m(s,()=>a()?d():o(),null)),ye(u)}else{const a=$n(e.isSVG?"g":"div",e.isSVG),c=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return r.parentNode},configurable:!0}),m(c,o),s.appendChild(a),e.ref&&e.ref(a),ye(()=>s.removeChild(a))}},void 0,{render:!i}),r}let he="/";const ke=["/"];let dt=[{route:"/",params:null}];function ae(e,t){const[r,l]=R(new URL(window.location.href).pathname||"/"),[n,o]=R(dt.find(d=>d.route===he)?.params||null),i=new URL(window.location.href).searchParams,s=d=>{const h=d.split("/").filter(w=>w.startsWith(":")).map(w=>w.slice(1)),g=new URL(window.location.href).pathname.split("/").slice(2).filter(w=>!w.startsWith(":"));return h.reduce((w,b,x)=>(w[b]=g[x],w),{})};if(e&&e.includes(":")){const d=s(e);o(d)}const a=(d,h)=>{h&&(dt.push({route:d,params:h}),o(h)),l(d),he=d,ke.push(d),window.history.pushState(null,"",d),window.dispatchEvent(new Event("popstate"))};return window.addEventListener("popstate",()=>{const d=new URL(window.location.href).pathname;l(d);const h=dt.find(g=>g.route===d)?.params||null;o(h)}),{route:r,navigate:a,goBack:()=>{const d=ke.indexOf(he);d!==0&&(he=ke[d-1],l(he),window.history.back(),window.dispatchEvent(new Event("popstate")))},goForward:()=>{const d=ke.indexOf(he);d!==ke.length-1&&(he=ke[d+1],l(he),window.history.forward(),window.dispatchEvent(new Event("popstate")))},params:n,searchParams:i}}function kn(){const[e,t]=R(C.authStore.isValid()),[r,l]=R(!1),[n,o]=R("");return{isAuthenticated:e,isLoading:r,error:n,login:async(c,u)=>{try{l(!0),await C.authStore.login(c,u),t(C.authStore.isValid()),l(!1)}catch(d){l(!1),o(d.message)}},checkAuth:()=>{t(C.authStore.isValid())},logout:()=>{localStorage.removeItem("postr_auth"),t(!1)}}}const Ne="/assets/icon_transparent-BT-6axct.png";function le(){const[e,t]=R(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),r=()=>{t(e()==="dark"?"light":"dark")};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",l=>{t(l.matches?"dark":"light")}),{theme:e,toggleTheme:r}}function Ge(){const e=navigator.userAgent||navigator.vendor||window.opera,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),r=/iPad|Android|tablet/i.test(e);return{isMobile:t,isTablet:r,isDesktop:!t&&!r}}function At(){let[e,t]=R(Ge().isMobile),[r,l]=R(Ge().isTablet),[n,o]=R(Ge().isDesktop);return window.addEventListener("resize",()=>{const{isMobile:i,isTablet:s,isDesktop:a}=Ge();t(i),l(s),o(a)}),{mobile:e,tablet:r,desktop:n}}function N(...e){return e.join(" ")}var _n=p("<dialog>"),Sn=p("<div>");function nt({children:e,id:t,className:r,bottom:l,autoClose:n}){const{theme:o}=le();return ce(()=>{window.addEventListener("keydown",i=>{i.key==="Escape"&&document.getElementById(t)?.close()}),window.addEventListener("click",i=>{i.target===document.getElementById(t)&&n==!0&&(alert("closing"),document.getElementById(t)?.close())})}),(()=>{var i=_n();return G(i,"id",t),m(i,e),z(()=>F(i,N("modal   focus:outline-none",r,o()=="light"?"bg-white":"bg-[#121212]"))),i})()}function Cn({children:e,className:t}){return(()=>{var r=Sn();return m(r,e),z(()=>F(r,N(t,"fixed top-0 left-0 "))),r})()}nt.Content=Cn;var Pn=p('<svg viewBox="0 0 24 24"aria-hidden=true class="w-6 h-6 cursor-pointer xl:w-6 xl:h-6 "><g><path d="M7.414 13l5.043 5.04-1.414 1.42L3.586 12l7.457-7.46 1.414 1.42L7.414 11H21v2H7.414z">');function Et(e){return(()=>{var t=Pn();return X(t,e,!0,!0),t})()}var An=p('<button class=" text-lg w-6 h-6 size-6 p-2">X'),En=p("<button>"),Mn=p('<img src=/src/assets/icon_transparent.png class="w-12 h-12 xl:w-20 xl:h-20 black">'),Ln=p('<img src=/assets/icon_transparent.png class="w-20 h-20">'),Rn=p('<div class="flex justify-between p-2"><div>'),jn=p('<div class="flex flex-col p-5 mt-2 gap-5"><h1 class="flex font-bold text-2xl ">Create Your Account</h1><label></label><input type=text class="input input-bordered"placeholder=Username><label>Email</label><input type=email placeholder=Email><label></label><input type=date placeholder="Date of Birth"><button class="btn rounded-full btn-primary">Next'),On=p('<div class="flex flex-col p-5 mt-2 gap-5"><h1 class="flex font-bold text-2xl ">Create Your Account</h1><label></label><input type=password class="input input-bordered"placeholder=Password><label>Confirm Password</label><input type=password class="input input-bordered"placeholder="Confirm Password"><button class="btn rounded-full bg-blue-500 text-white">Register'),Tn=p("<span class=text-red-500>Username already exists"),In=p("<span class=text-red-500>You must be atleast 17 years old"),Bn=p("<span class=text-red-500>Password must be atleast 8 characters");function zn(){const{route:e,navigate:t}=ae();let{theme:r}=le(),[l,n]=R(1),[o,i]=R(""),[s,a]=R(""),[c,u]=R(""),[d,h]=R(""),[g,_]=R(""),[w,b]=R(!1),[x,v]=R(!1);function P(){console.log(C.serverURL),fetch(`${C.serverURL}/auth/check`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s(),username:o()})}).then(k=>k.json()).then(k=>{let{data:A}=k;b(A.emailExists),v(A.usernameExists)})}ce(()=>{let k;function A(){k&&clearTimeout(k),k=setTimeout(()=>{console.log("Checking"),P()},1e3)}function B(U){A()}return window.addEventListener("keydown",B),()=>{window.removeEventListener("keydown",B)}});function $(){let k=new Date(d());return!(new Date().getFullYear()-k.getFullYear()<17)}function M(){fetch(`${C.serverURL}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s(),password:c(),username:o(),dob:d()})}).then(k=>k.json()).then(async k=>{document.getElementById("register")?.remove(),C.authStore.login(s(),c()).then(A=>{t("/",null)})})}return f(nt,{id:"register",className:" xl:w-[600px]  xl:h-[600px] md:w-[600px] self-center w-full h-full flex flex-col mx-auto xl:mt-12 md:mt-12 md:rounded-xl xl:rounded-xl",get children(){return f(nt.Content,{className:"xl:w-[600px] xl:h-[600px] relative  md:w-[600px] md:h-1/2 w-full h-full",get children(){return[(()=>{var k=Rn(),A=k.firstChild;return m(k,f(ie,{get children(){return[f(Q,{get when(){return l()===1},get children(){var B=An();return B.$$click=()=>document.getElementById("register")?.remove(),B}}),f(Q,{get when(){return l()===2},get children(){var B=En();return m(B,f(Et,{onClick:()=>n(1),class:"w-6 h-6 size-6   "})),B}})]}}),A),m(k,f(ie,{get children(){return[f(Q,{get when(){return r()==="light"},get children(){return Mn()}}),f(Q,{get when(){return r()==="dark"},get children(){return Ln()}})]}}),A),k})(),f(H,{get when(){return l()===1},get children(){var k=jn(),A=k.firstChild,B=A.nextSibling,U=B.nextSibling,Z=U.nextSibling,L=Z.nextSibling,E=L.nextSibling,I=E.nextSibling,y=I.nextSibling;return m(B,(()=>{var S=j(()=>!!(o()&&x()));return()=>S()?Tn():"Username"})()),U.$$input=S=>i(S.target.value),L.$$input=S=>a(S.target.value),m(E,(()=>{var S=j(()=>!!(d()&&!$()));return()=>S()?In():"Date of Birth "})()),I.$$input=S=>h(S.target.value),y.$$click=()=>{w()||!s()||!o()||!d()||!$()||x()||n(2)},z(S=>{var O=N("input input-bordered",w()?"border-red-500":""),T=N("input input-bordered",$()?"":"border-red-500"),V=w()||!s()||!o()||!d()||!$()||x();return O!==S.e&&F(L,S.e=O),T!==S.t&&F(I,S.t=T),V!==S.a&&(y.disabled=S.a=V),S},{e:void 0,t:void 0,a:void 0}),z(()=>U.value=o()),z(()=>L.value=s()),z(()=>I.value=d()),k}}),f(H,{get when(){return l()===2},get children(){var k=On(),A=k.firstChild,B=A.nextSibling,U=B.nextSibling,Z=U.nextSibling,L=Z.nextSibling,E=L.nextSibling;return m(B,(()=>{var I=j(()=>!!(c()&&c().length<8));return()=>I()?Bn():"Password"})()),U.$$input=I=>u(I.target.value),L.$$input=I=>_(I.target.value),E.$$click=()=>{!c()||!g()||c()!==g()||c().length<8||M()},z(()=>E.disabled=!c()||!g()||c()!==g()||c().length<8),z(()=>U.value=c()),z(()=>L.value=g()),k}})]}})}})}re(["click","input"]);var Nn=p(`<div class=" relative w-full p-2 xl:mt-5 justify-center flex flex-col gap-5 mx-auto xl:w-[30vw] lg:w-[50vw]"><img class="w-20 h-20 mx-auto black"><div class=" mb-12 flex flex-col gap-5 w-full"><p class=" mt-2 sm:mt-0 w-full text-3xl font-extrabold ">Open Source Is Simply Better.</p><p class=text-lg>Join the community building a safer, more secure social space.</p></div><label for=email>Email</label><div class="relative w-full"><input name=email id=email autocomplete=email type=email class="input rounded input-bordered w-full"></div><label for=password>Password</label><input name=password id=password autocomplete=password type=password class="input rounded input-bordered w-full"><button class="btn text-white rounded hover:bg-rose-500 bg-rose-500 relative"></button><p class="text-xs text-red-500"></p><p class=text-xs>Forgot your password? <button class="text-blue ">Reset it</button></p><div class=""><p class=text-xs>Don't have an account? <button class=text-blue-500>Sign up`);function cr(){const{navigate:e,params:t}=ae("/auth/login"),{isAuthenticated:r,isLoading:l,error:n,login:o}=kn();le(),At();let[i,s]=R(!1);return ce(()=>{C.getIP(),r()?e("/",null):n()&&console.log("Error",n());let a;function c(){s(!0)}function u(){clearTimeout(a),s(!1)}function d(g){g.key==="Enter"&&(s(!1),o(document.querySelector("#email")?.value,document.querySelector("#password")?.value)),c()}function h(){u()}window.addEventListener("keydown",d),window.addEventListener("click",h)}),[(()=>{var a=Nn(),c=a.firstChild,u=c.nextSibling,d=u.nextSibling,h=d.nextSibling,g=h.nextSibling,_=g.nextSibling,w=_.nextSibling,b=w.nextSibling,x=b.nextSibling,v=x.firstChild,P=v.nextSibling,$=x.nextSibling,M=$.firstChild,k=M.firstChild,A=k.nextSibling;return G(c,"src",Ne),w.$$click=()=>{o(document.querySelector("#email")?.value,document.querySelector("#password")?.value)},m(w,()=>l()?"Loading...":"Sign in"),m(b,n),P.$$click=()=>e("/auth/ForgotPassword",null),A.$$click=()=>document.getElementById("register")?.showModal(),a})(),f(qe,{get children(){return f(zn,{})}})]}re(["click"]);function ur(){const[e,t]=R("up"),[r,l]=R(0);return ce(()=>{window.addEventListener("scroll",n=>{window.scrollY<r()?t("up"):t("down"),l(window.scrollY)}),ye(()=>{window.removeEventListener("scroll",()=>{})})}),{scrollingDirection:e}}var Un=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z">');function dr(e){return(()=>{var t=Un();return X(t,e,!0,!0),t})()}var Dn=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap=round stroke-linejoin=round d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z">');function Vn(e){return(()=>{var t=Dn();return X(t,e,!0,!0),t})()}const Fn="/assets/icon-rnjPjjOB.jpg";var qn=p('<dialog id=logout-modal class=" rounded-box modal-middle "><div><img class=rounded alt="postr logo"width=40 height=40><p class="font-bold text-xl mt-2">Loging out of Postr?</p><p class="text-sm mt-2">You can always log back in at any time.</p><button>Logout</button><form method=dialog class=w-full><button class="btn btn-ghost mt-5 w-full rounded-full bg-base-200 ">Cancel');function Kn(e){let{theme:t}=le();return(()=>{var r=qn(),l=r.firstChild,n=l.firstChild,o=n.nextSibling,i=o.nextSibling,s=i.nextSibling;return r.style.setProperty("borderRadius","10px"),l.style.setProperty("borderRadius","10px"),G(n,"src",Fn),s.$$click=()=>{C.authStore.logout()},z(a=>{var c=t()=="dark"?"1px solid #2d2d2d":"1px solid #f9f9f9",u=t()=="dark"?"1px solid #2d2d2d":"1px solid #f9f9f9",d=`flex p-5 xl:w-[15vw] h-[45vh] xl:h-[35vh] rounded-box items-center 
             ${t()==="dark"?"bg-black text-white":"bg-white text-black "}
            justify-center flex-col mx-auto`,h=`btn btn-ghost rounded-full w-full  
                ${t()==="dark"?"bg-white text-black":"bg-black text-white"}
                mt-5`;return c!==a.e&&((a.e=c)!=null?r.style.setProperty("border",c):r.style.removeProperty("border")),u!==a.t&&((a.t=u)!=null?l.style.setProperty("border",u):l.style.removeProperty("border")),d!==a.a&&(l.className=a.a=d),h!==a.o&&(s.className=a.o=h),a},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()}re(["click"]);var Hn=p('<div><div class="flex xl:p-3 w-full sm:p-3 z-[9999999] justify-between "><div class="flex gap-2 hero"><div class="flex flex-col w-full"><div class="flex justify-between gap-2 w-full"><div class="flex flex-row gap-2 "><div class="dropdown "><label tabindex=0></label><ul tabindex=0 class="dropdown-content menu w-[16rem] shadow bg-base-100 rounded "><li><a class=rounded-full>View Profile</a></li><li><a class=rounded-full>Set Status</a></li><li><a class=rounded-full>Logout <span class=font-bold> @</span></a></li></ul></div><div class="flex flex-col"><p class="font-bold "></p><p class=text-lg>@ </p></div></div><div class="flex gap-4"></div></div></div></div></div><div><div class="flex flex-col"><p>Recommended</p></div><div class="flex flex-col text-sm"><p>Following</p></div><div class="flex flex-col text-sm"><p>Trending</p></div></div>'),Gn=p('<img class="rounded object-cover w-12 h-12 cursor-pointer">'),Zn=p('<div class="avatar placeholder"><div class="bg-base-300 text-black avatar w-16 h-16 border cursor-pointer rounded border-white"><span class=text-2xl>'),Wn=p('<li><a class=rounded-full>Your benefits<span class="badge badge-outline border-blue-500 text-blue-500">++'),Jn=p('<div class="rounded-md h-1 bg-blue-500">'),Dt=p('<div class=" rounded-md h-1 bg-blue-500">');function Yn({navigate:e,page:t,swapFeed:r}){const{theme:l}=le();let{scrollingDirection:n}=ur(),{mobile:o}=At();return console.log(o()&&n()==="up"),(()=>{var i=Hn(),s=i.firstChild,a=s.firstChild,c=a.firstChild,u=c.firstChild,d=u.firstChild,h=d.firstChild,g=h.firstChild,_=g.nextSibling,w=_.firstChild,b=w.firstChild,x=w.nextSibling,v=x.nextSibling,P=v.firstChild,$=P.firstChild,M=$.nextSibling;M.firstChild;var k=h.nextSibling,A=k.firstChild,B=A.nextSibling;B.firstChild;var U=d.nextSibling,Z=s.nextSibling,L=Z.firstChild,E=L.firstChild,I=L.nextSibling,y=I.firstChild,S=I.nextSibling,O=S.firstChild;return m(g,typeof window<"u"?j(()=>j(()=>!!C.authStore.model?.avatar)()?(()=>{var T=Gn();return z(V=>{var q=C.cdn.getUrl("users",C.authStore.model.id,C.authStore.model.avatar),ee=C.authStore.model.username;return q!==V.e&&G(T,"src",V.e=q),ee!==V.t&&G(T,"alt",V.t=ee),V},{e:void 0,t:void 0}),T})():(()=>{var T=Zn(),V=T.firstChild,q=V.firstChild;return m(q,()=>C.authStore.model.username.charAt(0).toUpperCase()),T})()):""),_.style.setProperty("border-radius","10px"),b.$$click=()=>{e("/u/"+C.authStore.model.username)},m(_,(()=>{var T=j(()=>!!(typeof window<"u"&&C.authStore.model.postr_plus));return()=>T()?Wn():""})(),x),P.$$click=()=>{document.getElementById("logout-modal").showModal()},m(M,()=>C.authStore.model.username,null),m(A,()=>C.authStore.model.username),m(B,()=>C.authStore.model.username,null),m(U,f(dr,{class:"w-7 h-7"}),null),m(U,f(Vn,{class:"w-7 h-7"}),null),E.$$click=()=>{r("recommended",0)},m(L,(()=>{var T=j(()=>t()==="recommended");return()=>T()?Jn():""})(),null),y.$$click=()=>{r("following",0)},m(I,(()=>{var T=j(()=>t()==="following");return()=>T()?Dt():""})(),null),O.$$click=()=>{r("trending",0)},m(S,(()=>{var T=j(()=>t()==="trending");return()=>T()?Dt():""})(),null),m(i,f(qe,{get children(){return f(Kn,{})}}),null),z(T=>{var V=N(" flex flex-col sticky top-0  sm:p-0  z-[9999]",l()==="dark"?"bg-black z-[99999] text-white  border-[#121212] border border-l-0 border-r-0 border-b-none ":"bg-white  border    border-[#f3f3f3]   bg-white "," backdrop-blur-sm ",o()&&n()==="up"?"slide-up-active slide-up  ":o()?"slide-up":""),q=l()==="dark"?"1px solid #2d2d2d":"1px solid #f9f9f9",ee=N("  sm:p-3 xl:p-2    text-sm   xl:mt-0  justify-between flex  "),Y=N("cursor-pointer",t()!=="recommended"?"text-gray-500":""),we=N("cursor-pointer",t()!=="following"?"text-gray-500":""),Le=N("cursor-pointer",t()!=="following"?"text-gray-500":"");return V!==T.e&&F(i,T.e=V),q!==T.t&&((T.t=q)!=null?_.style.setProperty("border",q):_.style.removeProperty("border")),ee!==T.a&&F(Z,T.a=ee),Y!==T.o&&F(E,T.o=Y),we!==T.i&&F(y,T.i=we),Le!==T.n&&F(O,T.n=Le),T},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),i})()}re(["click"]);var Xn=p('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 0 24 24"stroke-width=1.5><path d="M6.63477851,18.7733424 L6.63477851,15.7156161 C6.63477851,14.9350667 7.27217143,14.3023065 8.05843544,14.3023065 L10.9326107,14.3023065 C11.310188,14.3023065 11.6723007,14.4512083 11.9392882,14.7162553 C12.2062757,14.9813022 12.3562677,15.3407831 12.3562677,15.7156161 L12.3562677,18.7733424 C12.3538816,19.0978491 12.4820659,19.4098788 12.7123708,19.6401787 C12.9426757,19.8704786 13.2560494,20 13.5829406,20 L15.5438266,20 C16.4596364,20.0023499 17.3387522,19.6428442 17.9871692,19.0008077 C18.6355861,18.3587712 19,17.4869804 19,16.5778238 L19,7.86685918 C19,7.13246047 18.6720694,6.43584231 18.1046183,5.96466895 L11.4340245,0.675869015 C10.2736604,-0.251438297 8.61111277,-0.221497907 7.48539114,0.74697893 L0.967012253,5.96466895 C0.37274068,6.42195254 0.0175522924,7.12063643 0,7.86685918 L0,16.568935 C0,18.4638535 1.54738155,20 3.45617342,20 L5.37229029,20 C6.05122667,20 6.60299723,19.4562152 6.60791706,18.7822311 L6.63477851,18.7733424 Z"transform="translate(2.5 2)">');function fr(e){return(()=>{var t=Xn();return X(t,e,!0,!0),t})()}var Qn=p('<div class="xl:drawer xl:w-[auto] mr-5 xl:drawer-open lg:drawer-open "><input id=my-drawer-3 type=checkbox class=drawer-toggle><div class=drawer-side><label aria-label="close sidebar"class=drawer-overlay></label><ul class="menu w-64 flex flex-col gap-5 min-h-full text-base-content"><li class=hover:bg-transparent><a><img width=40></a></li><li><a>Home</a></li><li><a class="text-lg rounded-full flex hero"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-7 h-7"><path stroke-linecap=round stroke-linejoin=round d="m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664"></path></svg>Snippets</a></li><li><a class="text-lg rounded-full"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=" w-7 h-7 cursor-pointer hover:fill-black hover:text-black "><path stroke-linecap=round stroke-linejoin=round d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"></path></svg>Notifications</a></li><li><a class="text-lg rounded-full"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=" w-7 h-7"><path stroke-linecap=round stroke-linejoin=round d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"></path></svg>Explore</a></li><li><a><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-lidth=1.5 stroke=currentColor class="w-7 h-7 fill-inherit"><path stroke-linecap=round stroke-linejoin=round d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"></path></svg>Profile</a></li><li class="text-lg rounded-full text-start hover:outline-none hover:text-lg hover:justify-start hover:rounded-full"><a class=" rounded-full"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-7 h-7"><path stroke-linecap=round stroke-linejoin=round d="m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"></path></svg>Ai</a></li><li class="text-lg rounded-full"><a class=" rounded-full"><img><p>Premium</p></a></li><li class="text-lg rounded-full text-start hover:outline-none hover:text-lg hover:justify-start hover:rounded-full"><a class="rounded-full "><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-7 h-7"><path stroke-linecap=round stroke-linejoin=round d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"></path></svg>Messages</a></li><button class="btn rounded-full text-lg hero btn-ghost hover:bg-blue-500 focus:bg-blue-500 bg-blue-500 text-white "><p>Post'),el=p('<dialog id=postr_plus class="modal max-w-[100vw] max-h-[100vh] w-screen h-screen "><div class="modal-box w-screen h-screen max-w-[100vw] max-h-[100vh] rounded-none"><div class="flex p-5 flex-col bg-gradient-to-t fixed top-0 left-0 from-slate-50 to-blue-100 w-full h-full"><span class="cursor-pointer absolute top-5 left-5 rounded-full"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-7 h-7"><path stroke-linecap=round stroke-linejoin=round d="M6 18 18 6M6 6l12 12"></path></svg></span><div class="flex flex-col items-center justify-center"><h1 class="text-6xl font-bold">Upgrade to Postr Plus</h1><p class="text-xl mt-5">Support the project further by upgrading - get access to new features early and a sweet badge');function tl(e){let{theme:t}=le();const{route:r,navigate:l}=ae();return[(()=>{var n=Qn(),o=n.firstChild,i=o.nextSibling,s=i.firstChild,a=s.nextSibling,c=a.firstChild,u=c.firstChild,d=u.firstChild,h=c.nextSibling,g=h.firstChild,_=g.firstChild,w=h.nextSibling,b=w.nextSibling,x=b.nextSibling,v=x.nextSibling,P=v.firstChild;P.firstChild;var $=v.nextSibling,M=$.firstChild,k=$.nextSibling,A=k.firstChild,B=A.firstChild,U=k.nextSibling,Z=U.firstChild,L=U.nextSibling;return G(d,"src",Ne),g.$$click=()=>{l("/")},m(g,f(fr,{get class(){return N("w-7 h-7")}}),_),P.$$click=()=>{l(`/u/${C.authStore.model.username}`,{id:C.authStore.model.username})},M.$$click=()=>{},A.$$click=()=>{document.getElementById("postr_plus").showModal()},G(B,"src",Ne),Z.$$click=()=>{},L.$$click=()=>{document.getElementById("createPostModal").showModal()},z(E=>{var I=N("rounded w-12 h-12",t()=="light"&&"black"),y=N("text-lg  rounded-full",r()=="/"&&"fill-blue-500 stroke-blue-500 text-blue-500 font-bold"),S=`text-xl  rounded-full rounded-full
                    ${e.params()?.user==C.authStore.model.id?"fill-blue-500 stroke-blue-500 text-blue-500":""}
                  `,O=N("rounded w-8 h-8",t()=="light"&&"black");return I!==E.e&&F(d,E.e=I),y!==E.t&&F(g,E.t=y),S!==E.a&&F(P,E.a=S),O!==E.o&&F(B,E.o=O),E},{e:void 0,t:void 0,a:void 0,o:void 0}),n})(),f(qe,{get children(){var n=el(),o=n.firstChild,i=o.firstChild,s=i.firstChild;return s.$$click=()=>{document.getElementById("postr_plus")?.close()},n}})]}re(["click"]);var rl=p('<li><a class="w-full relative"><h1 class="font-bold text-lg"></h1><div class="flex flex-col mt-5 gap-5">'),nl=p('<div class="xl:drawer xl:w-[auto] xl:drawer-end xl:drawer-open lg:drawer-open mx-5 "><input id=my-drawer-2 type=checkbox class=drawer-toggle><div class=drawer-side><label for=my-drawer-2 aria-label="close sidebar"class=drawer-overlay></label><ul class="p-2 w-80 min-h-full gap-5 flex flex-col text-base-content"><li><input type=text class="w-full input input-ghost rounded-full input-bordered"placeholder=Search></li><div class="flex flex-col gap-5 mt-2 p-2 text-sm"><li class="flex flex-row gap-5"><a class="cursor-pointer hover:underline">Terms of service</a><a href=/information/privacy.pdf class="cursor-pointer hover:underline">Privacy Policy</a></li><li class="flex flex-row gap-5"><a href=""class="cursor-pointer hover:underline">Help and safety</a><a class="cursor-pointer hover:underline">Accessibility</a></li><li><div class="tooltip cursor-pointer"data-tip="Your app version">pkg version: </div></li><li><a>© 2022 - <!> Pascal. All rights reserved'),ll=p('<div class="w-10 h-10 border text-center p-2 rounded">'),ol=p('<img class="w-10 h-10 rounded">'),sl=p('<div class="flex flex-row gap-5"><div class="flex flex-col cursor-pointer"><a class=font-bold></a><p class=text-sm>@');function il(e){const{theme:t}=le(),{params:r,route:l,navigate:n}=e,[o,i]=R([],{equals:!1}),[s,a]=R("Relevant People",{equals:!1});return window.setRelevantPeople=i,window.setRelevantText=a,(()=>{var c=nl(),u=c.firstChild,d=u.nextSibling,h=d.firstChild,g=h.nextSibling,_=g.firstChild,w=_.nextSibling,b=w.firstChild,x=b.nextSibling,v=x.nextSibling,P=v.firstChild;P.firstChild;var $=v.nextSibling,M=$.firstChild,k=M.firstChild,A=k.nextSibling;return A.nextSibling,m(g,f(H,{get when(){return j(()=>!!o())()&&o().length>0},get children(){var B=rl(),U=B.firstChild,Z=U.firstChild,L=Z.nextSibling;return m(Z,s),m(L,f(de,{get each(){return o()},children:E=>(()=>{var I=sl(),y=I.firstChild,S=y.firstChild,O=S.nextSibling;return O.firstChild,m(I,f(ie,{fallback:[],get children(){return[f(Q,{get when(){return!E.avatar},get children(){var T=ll();return m(T,()=>E.username.slice(0,1).charAt(0).toUpperCase()),T}}),f(Q,{get when(){return E.avatar},get children(){var T=ol();return z(V=>{var q=C.cdn.getUrl("users",E.id,E.avatar),ee=E.username;return q!==V.e&&G(T,"src",V.e=q),ee!==V.t&&G(T,"alt",V.t=ee),V},{e:void 0,t:void 0}),T}})]}}),y),y.$$click=()=>n(`/u/${E.username}`,{id:E.username}),m(S,()=>E.username),m(O,()=>E.username,null),I})()})),z(()=>F(B,`
                ${t()=="dark"?"xl:border xl:border-[#121212]":"xl:border xl:border-[#d3d3d3d8]"}  p-5 rounded-xl`)),B}}),w),m(P,()=>window?.postr?.version,null),m(M,()=>new Date().getFullYear(),A),c})()}re(["click"]);var al=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z">');function hr(e){return(()=>{var t=al();return X(t,e,!0,!0),t})()}var cl=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z">');function ul({...e}){return(()=>{var t=cl();return X(t,e,!0,!0),t})()}var dl=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75">');function fl(e){return(()=>{var t=dl();return X(t,e,!0,!0),t})()}var hl=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="m7.848 8.25 1.536.887M7.848 8.25a3 3 0 1 1-5.196-3 3 3 0 0 1 5.196 3Zm1.536.887a2.165 2.165 0 0 1 1.083 1.839c.005.351.054.695.14 1.024M9.384 9.137l2.077 1.199M7.848 15.75l1.536-.887m-1.536.887a3 3 0 1 1-5.196 3 3 3 0 0 1 5.196-3Zm1.536-.887a2.165 2.165 0 0 0 1.083-1.838c.005-.352.054-.695.14-1.025m-1.223 2.863 2.077-1.199m0-3.328a4.323 4.323 0 0 1 2.068-1.379l5.325-1.628a4.5 4.5 0 0 1 2.48-.044l.803.215-7.794 4.5m-2.882-1.664A4.33 4.33 0 0 0 10.607 12m3.736 0 7.794 4.5-.802.215a4.5 4.5 0 0 1-2.48-.043l-5.326-1.629a4.324 4.324 0 0 1-2.068-1.379M14.343 12l-2.882 1.664">');function gl(e){return(()=>{var t=hl();return X(t,e,!0,!0),t})()}var ml=p('<div><div><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="fill-white stroke-white size-6"><path stroke-linecap=round stroke-linejoin=round d="M12 4.5v15m7.5-7.5h-15"></path></svg></div><ul><li class="flex "></li><li></li><li></li><li></li><li>');function pl(){const{theme:e}=le(),{route:t,navigate:r}=ae(),{scrollingDirection:l}=ur();return(()=>{var n=ml(),o=n.firstChild,i=o.firstChild,s=o.nextSibling,a=s.firstChild,c=a.nextSibling,u=c.nextSibling,d=u.nextSibling,h=d.nextSibling;return i.$$click=()=>document.getElementById("createPostModal")?.showModal(),m(a,f(fr,{get class(){return N("w-7 h-7",t()=="/"?e()=="dark"?"fill-white":"fill-black":"opacity-50")},onClick:()=>r("/")})),m(c,f(hr,{get class(){return N("w-7 h-7",t()==="/explore"?e()=="dark"?"fill-white":"fill-black":"opacity-50")}})),m(u,f(fl,{get class(){return N("w-7 h-7",t()==="/messages"?e()=="dark"?"fill-white":"fill-black":"opacity-50")}})),m(d,f(ul,{get class(){return N("w-7 h-7",t()==="/notifications"?e()=="dark"?"fill-white":"fill-black":"opacity-50")}})),m(h,f(gl,{get class(){return N("w-7 h-7",t()==="/create"?e()=="dark"?"fill-white":"fill-black":"opacity-50")}})),z(g=>{var _=N("fixed bottom-0  z-[999999] w-full","xl:hidden lg:hidden 2xl:hidden"),w=N("btn btn-circle btn-xl bg-blue-500 fixed bottom-24 right-3",l()=="down"&&"bg-opacity-50"),b=N(" flex justify-between p-5   h-full bg[#121212]   border border-l-0 border-b-0 border-r-0",e()==="dark"?"text-white fill-white stroke-white border-t-[#53535322]":"bg-white border-t-[#e0e0e0]");return _!==g.e&&F(n,g.e=_),w!==g.t&&F(o,g.t=w),b!==g.a&&F(s,g.a=b),g},{e:void 0,t:void 0,a:void 0}),n})()}re(["click"]);function gr(e){var t,r,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=gr(e[t]))&&(l&&(l+=" "),l+=r)}else for(r in e)e[r]&&(l&&(l+=" "),l+=r);return l}function wl(){for(var e,t,r=0,l="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=gr(e))&&(l&&(l+=" "),l+=t);return l}const Mt="-",bl=e=>{const t=xl(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=e;return{getClassGroupId:i=>{const s=i.split(Mt);return s[0]===""&&s.length!==1&&s.shift(),mr(s,t)||vl(i)},getConflictingClassGroupIds:(i,s)=>{const a=r[i]||[];return s&&l[i]?[...a,...l[i]]:a}}},mr=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],l=t.nextPart.get(r),n=l?mr(e.slice(1),l):void 0;if(n)return n;if(t.validators.length===0)return;const o=e.join(Mt);return t.validators.find(({validator:i})=>i(o))?.classGroupId},Vt=/^\[(.+)\]$/,vl=e=>{if(Vt.test(e)){const t=Vt.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},xl=e=>{const{theme:t,prefix:r}=e,l={nextPart:new Map,validators:[]};return $l(Object.entries(e.classGroups),r).forEach(([o,i])=>{yt(i,l,o,t)}),l},yt=(e,t,r,l)=>{e.forEach(n=>{if(typeof n=="string"){const o=n===""?t:Ft(t,n);o.classGroupId=r;return}if(typeof n=="function"){if(yl(n)){yt(n(l),t,r,l);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,i])=>{yt(i,Ft(t,o),r,l)})})},Ft=(e,t)=>{let r=e;return t.split(Mt).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},yl=e=>e.isThemeGetter,$l=(e,t)=>t?e.map(([r,l])=>{const n=l.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,s])=>[t+i,s])):o);return[r,n]}):e,kl=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,l=new Map;const n=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,l=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=l.get(o))!==void 0)return n(o,i),i},set(o,i){r.has(o)?r.set(o,i):n(o,i)}}},pr="!",_l=e=>{const{separator:t,experimentalParseClassName:r}=e,l=t.length===1,n=t[0],o=t.length,i=s=>{const a=[];let c=0,u=0,d;for(let b=0;b<s.length;b++){let x=s[b];if(c===0){if(x===n&&(l||s.slice(b,b+o)===t)){a.push(s.slice(u,b)),u=b+o;continue}if(x==="/"){d=b;continue}}x==="["?c++:x==="]"&&c--}const h=a.length===0?s:s.substring(u),g=h.startsWith(pr),_=g?h.substring(1):h,w=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:_,maybePostfixModifierPosition:w}};return r?s=>r({className:s,parseClassName:i}):i},Sl=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(l=>{l[0]==="["?(t.push(...r.sort(),l),r=[]):r.push(l)}),t.push(...r.sort()),t},Cl=e=>({cache:kl(e.cacheSize),parseClassName:_l(e),...bl(e)}),Pl=/\s+/,Al=(e,t)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:n}=t,o=[],i=e.trim().split(Pl);let s="";for(let a=i.length-1;a>=0;a-=1){const c=i[a],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:g}=r(c);let _=!!g,w=l(_?h.substring(0,g):h);if(!w){if(!_){s=c+(s.length>0?" "+s:s);continue}if(w=l(h),!w){s=c+(s.length>0?" "+s:s);continue}_=!1}const b=Sl(u).join(":"),x=d?b+pr:b,v=x+w;if(o.includes(v))continue;o.push(v);const P=n(w,_);for(let $=0;$<P.length;++$){const M=P[$];o.push(x+M)}s=c+(s.length>0?" "+s:s)}return s};function El(){let e=0,t,r,l="";for(;e<arguments.length;)(t=arguments[e++])&&(r=wr(t))&&(l&&(l+=" "),l+=r);return l}const wr=e=>{if(typeof e=="string")return e;let t,r="";for(let l=0;l<e.length;l++)e[l]&&(t=wr(e[l]))&&(r&&(r+=" "),r+=t);return r};function Ml(e,...t){let r,l,n,o=i;function i(a){const c=t.reduce((u,d)=>d(u),e());return r=Cl(c),l=r.cache.get,n=r.cache.set,o=s,s(a)}function s(a){const c=l(a);if(c)return c;const u=Al(a,r);return n(a,u),u}return function(){return o(El.apply(null,arguments))}}const J=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},br=/^\[(?:([a-z-]+):)?(.+)\]$/i,Ll=/^\d+\/\d+$/,Rl=new Set(["px","full","screen"]),jl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ol=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Il=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Bl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ue=e=>Pe(e)||Rl.has(e)||Ll.test(e),ge=e=>Me(e,"length",Kl),Pe=e=>!!e&&!Number.isNaN(Number(e)),ft=e=>Me(e,"number",Pe),Re=e=>!!e&&Number.isInteger(Number(e)),zl=e=>e.endsWith("%")&&Pe(e.slice(0,-1)),D=e=>br.test(e),me=e=>jl.test(e),Nl=new Set(["length","size","percentage"]),Ul=e=>Me(e,Nl,vr),Dl=e=>Me(e,"position",vr),Vl=new Set(["image","url"]),Fl=e=>Me(e,Vl,Gl),ql=e=>Me(e,"",Hl),je=()=>!0,Me=(e,t,r)=>{const l=br.exec(e);return l?l[1]?typeof t=="string"?l[1]===t:t.has(l[1]):r(l[2]):!1},Kl=e=>Ol.test(e)&&!Tl.test(e),vr=()=>!1,Hl=e=>Il.test(e),Gl=e=>Bl.test(e),Zl=()=>{const e=J("colors"),t=J("spacing"),r=J("blur"),l=J("brightness"),n=J("borderColor"),o=J("borderRadius"),i=J("borderSpacing"),s=J("borderWidth"),a=J("contrast"),c=J("grayscale"),u=J("hueRotate"),d=J("invert"),h=J("gap"),g=J("gradientColorStops"),_=J("gradientColorStopPositions"),w=J("inset"),b=J("margin"),x=J("opacity"),v=J("padding"),P=J("saturate"),$=J("scale"),M=J("sepia"),k=J("skew"),A=J("space"),B=J("translate"),U=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",D,t],E=()=>[D,t],I=()=>["",ue,ge],y=()=>["auto",Pe,D],S=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",D],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Pe,D];return{cacheSize:500,separator:":",theme:{colors:[je],spacing:[ue,ge],blur:["none","",me,D],brightness:Y(),borderColor:[e],borderRadius:["none","","full",me,D],borderSpacing:E(),borderWidth:I(),contrast:Y(),grayscale:q(),hueRotate:Y(),invert:q(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[zl,ge],inset:L(),margin:L(),opacity:Y(),padding:E(),saturate:Y(),scale:Y(),sepia:q(),skew:Y(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",D]}],container:["container"],columns:[{columns:[me]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...S(),D]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Re,D]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",D]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Re,D]}],"grid-cols":[{"grid-cols":[je]}],"col-start-end":[{col:["auto",{span:["full",Re,D]},D]}],"col-start":[{"col-start":y()}],"col-end":[{"col-end":y()}],"grid-rows":[{"grid-rows":[je]}],"row-start-end":[{row:["auto",{span:[Re,D]},D]}],"row-start":[{"row-start":y()}],"row-end":[{"row-end":y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",D]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",D]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",D,t]}],"min-w":[{"min-w":[D,t,"min","max","fit"]}],"max-w":[{"max-w":[D,t,"none","full","min","max","fit","prose",{screen:[me]},me]}],h:[{h:[D,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[D,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[D,t,"auto","min","max","fit"]}],"font-size":[{text:["base",me,ge]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ft]}],"font-family":[{font:[je]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",D]}],"line-clamp":[{"line-clamp":["none",Pe,ft]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ue,D]}],"list-image":[{"list-image":["none",D]}],"list-style-type":[{list:["none","disc","decimal",D]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ue,ge]}],"underline-offset":[{"underline-offset":["auto",ue,D]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",D]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",D]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...S(),Dl]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ul]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fl]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:O()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[ue,D]}],"outline-w":[{outline:[ue,ge]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ue,ge]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",me,ql]}],"shadow-color":[{shadow:[je]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[l]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",me,D]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[P]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",D]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",D]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",D]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[Re,D]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",D]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",D]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",D]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ue,ge,ft]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Wl=Ml(Zl),Ke=(...e)=>Wl(wl(e));var it=p("<div>"),Jl=p("<h1>");const xr=e=>{const[t,r]=Fe(e,["class"]);return(()=>{var l=it();return X(l,te({get class(){return Ke("rounded-xl",t.class)}},r),!1,!1),l})()},yr=e=>{const[t,r]=Fe(e,["class"]);return(()=>{var l=it();return X(l,te({get class(){return Ke("flex flex-col space-y-1.5 p-6",t.class)}},r),!1,!1),l})()},ve=e=>{const[t,r]=Fe(e,["class"]);return(()=>{var l=Jl();return X(l,te({get class(){return Ke("font-semibold leading-none tracking-tight",t.class)}},r),!1,!1),l})()},Ze=e=>{const[t,r]=Fe(e,["class"]);return(()=>{var l=it();return X(l,te({get class(){return Ke("p-6 pt-0",t.class)}},r),!1,!1),l})()},Yl=e=>{const[t,r]=Fe(e,["class"]);return(()=>{var l=it();return X(l,te({get class(){return Ke("flex items-center p-6 pt-0",t.class)}},r),!1,!1),l})()};function Xl(e){let[t,r]=R(e.likes||[]),[l,n]=R([]),[o,i]=R(e?.comments?.length||0),[s,a]=R(e.views||[]);function c(u,d=!1){if(t().findIndex(g=>g===u)===-1)r([...t(),u]);else{let g=t().filter(_=>_!==u);r(g)}C.collection(d?"comments":"posts").update(e.id,{likes:t()})}return{likes:t,updateLikes:c,comments:l,views:s,commentLength:o}}var Ql=p("<div><div tabindex=0 role=button></div><ul tabindex=0>"),eo=p('<span class="p-2 flex hero gap-2 cursor-pointer">'),to=p("<li class=divider>"),ro=p("<span class=dropdown-header>");function at({children:e,direction:t,point:r}){const{theme:l}=le();return(()=>{var n=Ql(),o=n.firstChild,i=o.nextSibling;return m(o,()=>e[0]),m(i,()=>e.slice(1)),z(s=>{var a=N("dropdown z-[99999] ",t==="left"?"dropdown-left":t==="top"?"dropdown-top":"dropdown-bottom",r==="start"?"dropdown-start":"dropdown-end"),c=N("dropdown-content justify-center flex flex-col menu bg-base-100 rounded-[.4rem] z-[99999] w-64  h-fit p-2 shadow-lg",l()==="dark"?"border-[#1c1c1c] border":"border-[#d7d6d6] border");return a!==s.e&&F(n,s.e=a),c!==s.t&&F(i,s.t=c),s},{e:void 0,t:void 0}),n})()}function We({children:e}){return(()=>{var t=eo();return m(t,e),t})()}at.Item=We;function no(){return to()}at.Divider=no;function $r({children:e}){return(()=>{var t=ro();return m(t,e),t})()}at.Header=$r;var lo=p("<div>"),oo=p('<span class="absolute top-2 left-2"><button class="btn btn-circle btn-ghost">X</button>'),so=p('<div class="absolute top-2 right-2 bg-red-500 text-white p-1 rounded-md">File size too large'),io=p('<div class="carousel-item w-full">'),ao=p('<button class="btn opacity-50 bg-base-200 btn-circle">❮'),co=p('<button class="btn opacity-50 bg-base-200 btn-circle">❯'),uo=p('<div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between"><button>');const kr=Ct({});function fo(e){const[t,r]=R([]),[l,n]=R(0),o=u=>{r(d=>[...d,u])},i=u=>{r(t().filter(d=>d!==u))},s=()=>Math.random().toString(36).substring(7),a=()=>{n(u=>(u+1)%t().length)},c=()=>{n(u=>(u-1+t().length)%t().length)};return f(kr.Provider,{value:{items:t,currentIndex:l,registerItem:o,nextItem:a,prevItem:c,removeItem:i,setItems:r,setCurrentIndex:n,id:s},get children(){return e.children}})}function Ue(e){return f(fo,{get children(){var t=lo();return m(t,()=>e.children),z(()=>F(t,N("carousel focus:outline-none h-full rounded-box w-full",e.class))),t}})}function Lt(e){let{items:t,currentIndex:r,registerItem:l,removeItem:n,prevItem:o,nextItem:i}=Pt(kr);Fr(()=>{l(e.id)});function s(){n(e.id),document.getElementById(e.id).remove(),e.onDelete()}return(()=>{var a=io();return a.style.setProperty("transition","transform 0.5s"),m(a,f(H,{get when(){return e.showDelete},get children(){var c=oo();return c.$$click=()=>s(),c}}),null),m(a,f(H,{get when(){return e.fileSizeError},get children(){return so()}}),null),m(a,()=>e.children,null),m(a,(()=>{var c=j(()=>t().length>1);return()=>c()&&(()=>{var u=uo(),d=u.firstChild;return m(u,f(H,{get when(){return r()!==0},get children(){var h=ao();return vt(h,"click",o,!0),h}}),d),m(u,f(H,{get when(){return r()!==t().length-1},get children(){var h=co();return vt(h,"click",i,!0),h}}),null),u})()})(),null),z(c=>{var u=e.id,d=`translateX(-${r()*100}%)`;return u!==c.e&&G(a,"id",c.e=u),d!==c.t&&((c.t=d)!=null?a.style.setProperty("transform",d):a.style.removeProperty("transform")),c},{e:void 0,t:void 0}),a})()}Ue.Item=Lt;re(["click"]);function Je(...e){return e.join("")}var ho=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z">');function _r(e){return(()=>{var t=ho();return X(t,e,!0,!0),t})()}var go=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5">');function mo(e){return(()=>{var t=go();return X(t,e,!0,!0),t})()}var po=p('<div class="flex hero gap-5 "><svg viewBox="0 0 24 24"aria-hidden=true class="w-4 h-4 fill-black"><g><path d="M7 4.5C7 3.12 8.12 2 9.5 2h5C15.88 2 17 3.12 17 4.5v5.26L20.12 16H13v5l-1 2-1-2v-5H3.88L7 9.76V4.5z"></path></g></svg>Pinned'),wo=p("<div>"),bo=p('<img class="w-10 h-10 rounded object-cover">'),vo=p('<div class="flex gap-2"><div class=flex>'),xo=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="size-6 "><path stroke-linecap=round stroke-linejoin=round d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z">'),yo=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-4 h-4"><path stroke-linecap=round stroke-linejoin=round d="M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5">'),$o=p("<p class=font-bold> Embed Post"),ko=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-4 h-4"><path stroke-linecap=round stroke-linejoin=round d="M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636">'),_o=p("<p class=font-bold> Block @"),So=p('<svg viewBox="0 0 24 24"aria-hidden=true><g><path d="M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z">'),Co=p('<p class="font-bold w-full"> View Post Engagement '),Po=p("<a><p class=text-md>"),Ao=p('<div class="flex items-center gap-2"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"></path></svg><span class=countdown> <span>'),Eo=p('<div class="flex items-center gap-2 "><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="size-6 cursor-pointer"><path stroke-linecap=round stroke-linejoin=round d="M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z">'),Mo=p('<div class=" flex items-center gap-2 "><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=" hover:rounded-full hover:bg-green-400 hover:bg-opacity-20 hover:text-green-600 cursor-pointer w-6 h-6 size-6 "><path stroke-linecap=round stroke-linejoin=round d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7 48.656 48.656 0 0 0 7.324 0 4.006 4.006 0 0 0 3.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3">'),Lo=p('<div class="flex hero gap-2"><svg viewBox="0 0 24 24"aria-hidden=true><g><path d="M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z">'),Ro=p('<div class="flex absolute right-5 gap-5">'),jo=p("<img>");const Oo=e=>{let t=new Date(e),n=(new Date().getTime()-t.getTime())/1e3,o=n/60,i=o/60,s=i/24,a=s/7,c=a/4,u=c/12;switch(!0){case n<60:return`${Math.floor(n)}s`;case o<60:return`${Math.floor(o)}m`;case i<24:return`${Math.floor(i)}h`;case s<7:return`${Math.floor(s)}d`;case a<4:return`${Math.floor(a)}w`;case c<12:return`${Math.floor(c)}mo`;case u>1:return`${Math.floor(u)}y`}};function Ee(e){let{theme:t}=le(),{likes:r,updateLikes:l,commentLength:n}=Xl(e);return f(xr,{get class(){return N(t()==="dark"?"bg-black text-white border-[#1c1c1c]  ":"  border-gray-200 border   ",t()==="dark"&&!e.page?"hover:bg-[#121212]":t()==="light"&&!e.page?"hover:bg-[#faf9f9]":"","z-10  relative h-fit","p-2 text-md shadow-none ",window.location.pathname.includes("view")?"border-r-0 border-b-0  border-l-0":window.location.pathname.includes("view")&&e.isComment?"border-t-0":"",e.disabled?"rounded ":`   rounded-none shadow-none${t()==="dark"&&!e.page?"hover:bg-[#121212]":t()==="light"&&!e.page?"hover:bg-[#faf9f9]":""}`)},get children(){return[f(H,{get when(){return j(()=>!!e.pinned)()&&window.location.pathname.includes("/u")},get children(){return po()}}),f(yr,{class:"flex p-[0.3rem]   mt-2 flex-row gap-3 space-y-0  relative ",get children(){return[f(ie,{fallback:[],get children(){return[f(Q,{get when(){return!e.expand.author.avatar},get children(){var o=wo();return m(o,()=>e.expand.author.username.slice(0,1).charAt(0).toUpperCase()),z(()=>F(o,N("w-10 h-10  text-center p-2 rounded ",t()==="dark"?"bg-[#121212] text-white":"bg-[#e2e1e1] text-black"))),o}}),f(Q,{get when(){return e.expand.author.avatar},get children(){var o=bo();return z(i=>{var s=C.cdn.getUrl("users",e.author,e.expand.author.avatar),a=e.author;return s!==i.e&&G(o,"src",i.e=s),a!==i.t&&G(o,"alt",i.t=a),i},{e:void 0,t:void 0}),o}})]}}),(()=>{var o=vo(),i=o.firstChild;return m(i,f(ve,{class:"cursor-pointer items-center gap-5 ",onClick:()=>e.navigate(Je("/u/",e.expand.author.username)),get children(){return e.expand.author.username}}),null),m(i,f(H,{get when(){return e.expand.author.validVerified},get children(){return f(_r,{class:"w-5  h-5 mx-1 text-blue-500 fill-blue-500 stroke-white "})}}),null),m(o,f(ve,{class:"text-sm opacity-50",get children(){return[" @",j(()=>e.expand.author.username)]}}),null),m(o,f(ve,{class:"text-sm opacity-50",children:"·"}),null),m(o,f(ve,{class:"text-sm opacity-50",get children(){return Oo(e.created)}}),null),o})(),f(H,{get when(){return!e.disabled},get children(){return f(ve,{class:"absolute right-5",get children(){return f(at,{direction:"left",point:"start",get children(){return[f($r,{get children(){return xo()}}),f(We,{get children(){return[yo(),$o()]}}),f(We,{get children(){return[ko(),(()=>{var o=_o();return o.firstChild,m(o,()=>e.expand.author.username,null),o})()]}}),f(We,{get children(){return[(()=>{var o=So();return z(()=>G(o,"class",N("cursor-pointer hover:rounded-full hover:bg-sky-500 hover:bg-opacity-20  size-6 hover:p-2 hover:text-sky-500 ",t()==="dark"?"fill-white":"fill-black"))),o})(),Co()]}})]}})}})}})]}}),f(Ze,{class:"p-1 cursor-pointer",get children(){var o=Po(),i=o.firstChild;return o.$$click=()=>e.navigate(Je("/view/",e.isComment?"comments/":"posts/",e.id)),m(i,()=>e.content),o}}),f(H,{get when(){return e.files&&e.files.length>0},get children(){return f(Ze,{class:"p-1   h-[300px]",get children(){return f(Ue,{get children(){return f(de,{get each(){return e.files},fallback:[],children:o=>f(Lt,{get children(){var i=jo();return z(s=>{var a=C.cdn.getUrl(e.isComment?"comments":"posts",e.id,o),c=N("w-full h-[400px]  object-cover rounded-xl","cursor-pointer",t()==="dark"?"border-[#121212] border":"border-[#cacaca] border");return a!==s.e&&G(i,"src",s.e=a),c!==s.t&&F(i,s.t=c),s},{e:void 0,t:void 0}),i}})})}})}})}}),f(Ze,{class:"p-1",get children(){return f(H,{get when(){return e.isRepost},get children(){return f(Ee,{get author(){return e.expand.repost.author},get id(){return e.expand.repost.id},get content(){return e.expand.repost.content},disabled:!0,get created(){return e.expand.repost.created},get updated(){return e.expand.repost.updated},get expand(){return e.expand.repost.expand},get comments(){return e.expand.repost.comments},get files(){return e.expand.repost.files}})}})}}),f(H,{get when(){return!e.disabled},get children(){return f(Yl,{class:"p-1 flex gap-3 relative items-start",get children(){return[(()=>{var o=Ao(),i=o.firstChild,s=i.nextSibling,a=s.firstChild,c=a.nextSibling;return i.$$click=()=>l(C.authStore.model.id,e.isComment),z(u=>{var d=N("w-6 h- cursor-pointer",r().includes(C.authStore.model.id)?"fill-red-500 stroke-red-500":""),h=Math.abs(r().length);return d!==u.e&&G(i,"class",u.e=d),h!==u.t&&((u.t=h)!=null?c.style.setProperty("--value",h):c.style.removeProperty("--value")),u},{e:void 0,t:void 0}),o})(),(()=>{var o=Eo(),i=o.firstChild;return i.$$click=()=>e.navigate(Je("/view/","posts/",e.id)),m(o,n,null),o})(),Mo(),(()=>{var o=Lo(),i=o.firstChild;return m(o,()=>e.views&&e.views.length||0,null),z(()=>G(i,"class",N("cursor-pointer hover:rounded-full hover:bg-sky-500 hover:bg-opacity-20  size-6 hover:p-2 hover:text-sky-500 ",t()==="dark"?"fill-white":"fill-black"))),o})(),(()=>{var o=Ro();return m(o,f(dr,{class:"w-6 h-6"}),null),m(o,f(mo,{class:"w-6 h-6"}),null),o})()]}})}})]}})}re(["click"]);var To=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z">');function Sr(e){return(()=>{var t=To();return X(t,e,!0,!0),t})()}var Io=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="m6.115 5.19.319 1.913A6 6 0 0 0 8.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 0 0 2.288-4.042 1.087 1.087 0 0 0-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 0 1-.98-.314l-.295-.295a1.125 1.125 0 0 1 0-1.591l.13-.132a1.125 1.125 0 0 1 1.3-.21l.603.302a.809.809 0 0 0 1.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 0 0 1.528-1.732l.146-.292M6.115 5.19A9 9 0 1 0 17.18 4.64M6.115 5.19A8.965 8.965 0 0 1 12 3c1.929 0 3.716.607 5.18 1.64">');function qt(e){return(()=>{var t=Io();return X(t,e,!0,!0),t})()}var Bo=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z">');function Kt(e){return(()=>{var t=Bo();return X(t,e,!0,!0),t})()}var zo=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z">');function Ht(e){return(()=>{var t=zo();return X(t,e,!0,!0),t})()}var No=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="m4.5 12.75 6 6 9-13.5">');function ht(e){return(()=>{var t=No();return X(t,e,!0,!0),t})()}var Uo=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M8.242 5.992h12m-12 6.003H20.24m-12 5.999h12M4.117 7.495v-3.75H2.99m1.125 3.75H2.99m1.125 0H5.24m-1.92 2.577a1.125 1.125 0 1 1 1.591 1.59l-1.83 1.83h2.16M2.99 15.745h1.125a1.125 1.125 0 0 1 0 2.25H3.74m0-.002h.375a1.125 1.125 0 0 1 0 2.25H2.99">');function Do(e){return(()=>{var t=Uo();return X(t,e,!0,!0),t})()}var Vo=p('<div class="flex flex-col gap-2"><input type=date class="input input-bordered rounded-lg"><button class="btn btn-sm bg-blue-500 text-white rounded-full">Add option'),Fo=p("<p>Everyone can reply"),qo=p("<p>Accounts you follow"),Ko=p("<p>Only you"),Ho=p('<dialog id=visibility class="modal sm:modal-bottom xl:modal-middle "><div class="modal-box w-32 gap-1"><div class="flex flex-col gap-2"><p class=font-bold>Who can reply to this post?</p><p>Choose who is allowed to reply to your post.</p></div><div class="flex flex-col relative gap-2 mt-5"><div class="flex flex-row gap-5 font-bold cursor-pointer text-lg hero"><div class="p-3 bg-blue-500 rounded-full"></div><p>Everyone</p></div><div class="flex flex-row gap-5 font-bold cursor-pointer text-lg hero"><div class="p-3 bg-blue-500 rounded-full"></div><p>Following</p></div><div class="flex flex-row gap-5 font-bold cursor-pointer text-lg hero"><div class="p-3 bg-blue-500 rounded-full"></div><p>Only me'),Go=p(`<dialog id=createPostModal class="modal z-[-1]"><div class="modal-box scroll p-2 z-[-1] h-fit"><div class="flex flex-row justify-between "><button class="btn btn-sm focus:outline-none btn-circle btn-ghost ">✕</button><p class="text-blue-500 btn btn-sm rounded-full">Drafts</p></div><div class="flex flex-row text-lg mt-5"><img class="w-10 h-10 rounded"alt=logo><textarea maxlength=200 placeholder="What's on your mind?"></textarea></div><div class="flex flex-row fill-blue-500 hero text-blue-500 font-semibold gap-2 hover:bg-base-200 w-fit cursor-pointer p-2 rounded-full"></div><div class="divider rounded-full h-1"></div><div class="flex flex-row relative justify-between "><input type=file hidden id=files multiple accept=image/*><div class="flex flex-row gap-5"></div><span> / 200</span><button class="btn-sm bg-blue-500 text-white rounded-full ">`),Zo=p('<img class="w-full h-[20rem] object-cover rounded-lg my-2"alt=file>'),Wo=p('<div class="flex flex-row gap-2"><input type=text class="input input-bordered rounded-lg"placeholder=Option><button class="btn btn-circle btn-ghost">✕');function Jo(){const e=()=>{const h=new Date;return h.setDate(h.getDate()+10),h.toISOString().split("T")[0]},{navigate:t}=ae(),{theme:r}=le();let[l,n]=R(null),[o,i]=R(!1),[s,a]=R([]),[c,u]=R({content:"",links:[],tags:[],author:C.authStore.model.id,isRepost:!1,isPoll:!1,pollOptions:[{choice:1,content:"",votes:[]},{choice:2,content:"",votes:[]}],pollEnds:new Date,whoCanSee:"public"});async function d(){if(o())return;i(!0);let h=c();if(s().length>0){let g=s().map(_=>{let w={name:_.name,type:_.type,size:_.size},b=new FileReader;return b.readAsArrayBuffer(_),new Promise((x,v)=>{b.onload=()=>{x({data:Array.from(new Uint8Array(b.result)),...w})}})});g=await Promise.all(g),h.files=g}console.log("Data",h);try{let g=await C.collection("posts").create(h);u({content:"",links:[],tags:[],isRepost:!1,isPoll:!1,pollOptions:[{choice:1,content:"",votes:[]},{choice:2,content:"",votes:[]}],pollEnds:new Date,whoCanSee:"public"}),a([]),i(!1),t(`/view/posts/${g.id}`)}catch(g){i(!1),console.log("Error",g)}}return window.setParams=h=>{n(h)},(()=>{var h=Go(),g=h.firstChild,_=g.firstChild,w=_.firstChild,b=_.nextSibling,x=b.firstChild,v=x.nextSibling,P=b.nextSibling,$=P.nextSibling,M=$.nextSibling,k=M.firstChild,A=k.nextSibling,B=A.nextSibling,U=B.firstChild,Z=B.nextSibling;return w.$$click=()=>document.getElementById("createPostModal")?.close(),v.$$input=L=>{u({...c(),content:L.target.value})},m(b,f(H,{get when(){return c().isRepost},get children(){return f(Ee,te(()=>c().repost))}}),null),m(g,f(H,{get when(){return s().length>0},get children(){return f(Ue,{get children(){return f(de,{get each(){return s()},children:L=>f(Ue.Item,{showDelete:!0,onDeleted:()=>a(s().filter(E=>E!==L)),get children(){var E=Zo();return z(()=>G(E,"src",URL.createObjectURL(L))),E}})})}})}}),P),m(g,f(H,{get when(){return c().isPoll},get children(){var L=Vo(),E=L.firstChild,I=E.nextSibling;return E.$$input=y=>u({...c(),pollEnds:y.target.value}),m(L,f(de,{get each(){return c().pollOptions},children:y=>(()=>{var S=Wo(),O=S.firstChild,T=O.nextSibling;return O.addEventListener("change",V=>u({...c(),pollOptions:c().pollOptions.map(q=>q.choice===y.choice?{...q,content:V.target.value}:q)})),T.$$click=()=>u({...c(),pollOptions:c().pollOptions.filter(V=>V.choice!==y.choice)}),z(()=>O.value=y.content),S})()}),I),I.$$click=()=>u({...c(),pollOptions:[...c().pollOptions,{choice:c().pollOptions.length+1,content:""}]}),z(()=>G(E,"max",e())),L}}),P),P.$$click=()=>document.getElementById("visibility")?.showModal(),m(P,f(ie,{get children(){return[f(Q,{get when(){return c().whoCanSee==="public"},get children(){return[f(qt,{class:"w-5 h-5"}),Fo()]}}),f(Q,{get when(){return c().whoCanSee==="following"},get children(){return[f(Kt,{class:"w-5 h-5"}),qo()]}}),f(Q,{get when(){return c().whoCanSee==="private"},get children(){return[f(Ht,{class:"w-5 h-5"}),Ko()]}})]}})),m(g,f(qe,{get children(){var L=Ho(),E=L.firstChild,I=E.firstChild,y=I.nextSibling,S=y.firstChild,O=S.firstChild;O.nextSibling;var T=S.nextSibling,V=T.firstChild;V.nextSibling;var q=T.nextSibling,ee=q.firstChild;return ee.nextSibling,S.$$click=()=>{u({...c(),whoCanSee:"public"}),document.getElementById("visibility")?.close()},m(O,f(qt,{class:"w-5 h-5 fill-white stroke-blue-500"})),m(S,(()=>{var Y=j(()=>c().whoCanSee==="public");return()=>Y()&&f(ht,{class:"w-5 h-5 text-blue-500 absolute right-5"})})(),null),T.$$click=()=>{u({...c(),whoCanSee:"following"}),document.getElementById("visibility")?.close()},m(V,f(Kt,{class:"w-5 h-5 fill-white stroke-blue-500"})),m(T,(()=>{var Y=j(()=>c().whoCanSee==="following");return()=>Y()&&f(ht,{class:"w-5 h-5 text-blue-500 absolute right-5"})})(),null),q.$$click=()=>{u({...c(),whoCanSee:"private"}),document.getElementById("visibility")?.close()},m(ee,f(Ht,{class:"w-5 h-5 fill-white stroke-blue-500"})),m(q,(()=>{var Y=j(()=>c().whoCanSee==="private");return()=>Y()&&f(ht,{class:"w-5 h-5 text-blue-500 absolute right-5"})})(),null),L}}),$),k.addEventListener("change",L=>a([...s(),...L.target.files])),m(A,f(Sr,{get class(){return N("w-5 h-5 cursor-pointer",c().isPoll&&"opacity-50")},onClick:()=>!c().isPoll&&document.getElementById("files")?.click()}),null),m(A,f(Do,{get class(){return N("w-5 h-5 cursor-pointer",s().length>0&&"opacity-50",c().isPoll&&"text-blue-500")},onClick:()=>u({...c(),isPoll:!c().isPoll})}),null),m(B,()=>c().content.length,U),Z.$$click=d,m(Z,()=>o()?"Posting...":"Post"),z(L=>{var E=C.cdn.getUrl("users",C.authStore.model.id,C.authStore.model.avatar),I=N("w-full h-fit  rounded-lg mx-5 resize-none outline-none scroll",r()==="dark"?"bg-black text-white":"bg-white");return E!==L.e&&G(x,"src",L.e=E),I!==L.t&&F(v,L.t=I),L},{e:void 0,t:void 0}),h})()}re(["click","input"]);var Yo=p("<div><div></div>"),Xo=p('<div class="flex justify-center items-center w-screen h-screen"><h1 class=text-3xl>Something went wrong');function Rt(e){const{theme:t}=le();return f(ir,{get fallback(){return Xo()},get children(){return[(()=>{var r=Yo(),l=r.firstChild;return m(r,f(H,{get when(){return j(()=>e.route()!=="/auth/login"&&e.route()!=="/auth/signup")()&&e.route()!=="/auth/forgot"},get children(){return f(tl,te(()=>({params:e.params,route:e.route,navigate:e.navigate})))}}),l),m(l,()=>e.children),m(r,f(H,{get when(){return j(()=>e.route()!=="/auth/login"&&e.route()!=="/auth/signup")()&&e.route()!=="/auth/forgot"},get children(){return f(il,te(()=>({params:e.params,route:e.route,navigate:e.navigate})))}}),null),m(r,f(pl,{}),null),z(n=>{var o=e.id,i=N("relative xl:flex xl:w-[30rem] w-[100vw]    xl:p-0  lg:flex   2xl:w-[64vw]    justify-center xl:mx-auto "),s=N("flex flex-col  h-full w-full  ",t()==="dark"?"border border-gray-800":"border border-gray-200");return o!==n.e&&G(r,"id",n.e=o),i!==n.t&&F(r,n.t=i),s!==n.a&&F(l,n.a=s),n},{e:void 0,t:void 0,a:void 0}),r})(),f(Jo,{})]}})}var Ae=(e=>(e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e))(Ae||{});async function Gt(e,t,r,l={}){return new Promise((n,o)=>{C.collection(e).list(t(),10,{recommended:!0,order:l.sort||"createdAt",filter:l.filter||"",cacheKey:`${e}_${r()}_${JSON.stringify(l)}`,expand:["comments.likes","comments","comments.author","author","author.following","author.followers","author.followers.following","author.TypeOfContentPosted","likes","repost.likes","repost.author","repost"]}).then(i=>{i.opCode!==Ae.OK&&(console.log(i),o(i)),n(i)})})}function Cr(e,t){const[r,l]=R(t._for==="home"?"recommended":"all"),[n,o]=R(1),[i,s]=R([],{equals:!1}),[a,c]=R(!0),[u,d]=R(null),[h,g]=R(!0),[_,w]=R(!1);function b(){s([]),o(1),g(!0)}return ce(()=>{window.addEventListener("popstate",()=>{c(!0),s([]),o(1),g(!0),l("all")}),console.log(r());async function x(){if(window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&!(a()||_())&&h()){c(!0);try{const $=n()+1;o($),console.log("fetching page "+$);const M=await Gt(e,n,r,t);s([...i(),...M?.items]),M?.totalPages<=$&&g(!1)}catch($){d($)}finally{c(!1)}}}window.addEventListener("scroll",x);function v($){$.touches[0].clientY<50&&w(!0)}function P($){w(!1)}window.addEventListener("touchstart",v),window.addEventListener("touchend",P)}),Gt(e,n,r,t).then(x=>{s([...i(),...x.items]),c(!1);let v=[];for(let P=0;P<x?.items.length;P++){if(x?.items[P].expand.author.followers.length<1)continue;let $=x?.items[P].expand.author.expand.followers;if(!($.length<1))for(let M=0;M<$.length;M++)$[M].id!==C.authStore.model.id&&v.length<5&&!$[M].followers.includes(C.authStore.model.id)&&!v.find(k=>k.id===$[M].id)&&v.push($[M])}window.setRelevantPeople&&setRelevantPeople(v),x?.totalPages<=n()&&g(!1)}).catch(x=>{console.log(x),d(x)}),{feed:r,currentPage:n,posts:i,loading:a,error:u,hasMore:h,setFeed:l,reset:b,setPosts:s}}var Qo=p('<div class="skeleton w-10 p-[14px] h-10 rounded">'),Zt=p('<div class="skeleton rounded-full h-4 w-20">'),es=p('<div class="skeleton rounded h-10 w-full">');function Pr(){let{theme:e}=le();return f(xr,{get class(){return N(e()==="dark"?"bg-black text-white border-[#1c1c1c] border-t-0":"border-[#e0e0e0] border-t-0","rounded-none shadow-none")},get children(){return[f(yr,{class:"flex sm:p-3 p-[14px]  flex-row gap-5 space-y-0  relative ",get children(){return[Qo(),f(ve,{class:"cursor-pointer",get children(){return Zt()}}),f(ve,{class:" ",get children(){return[" ",Zt()]}})]}}),f(Ze,{class:"sm:p-3  p-[14px]",get children(){return es()}})]}})}var ts=p('<div class="flex flex-col ">'),rs=p('<div class="flex flex-col justify-center text-center mt-5"><h1 class=text-3xl>Something went wrong</h1><p></p><button class="bg-blue-500 text-white p-2 rounded-md">Reload'),ns=p("<div>Feed is Empty"),ls=p("<div> <!> ");function os(){const{route:e,params:t,navigate:r}=ae("/"),{feed:l,currentPage:n,setFeed:o,posts:i,loading:s}=Cr("posts",{filter:`author.id  != "${C.authStore.model.id}"`});return C.authStore.isValid()||(localStorage.removeItem("postr_auth"),window.location.href="/auth/login"),C.on("authChange",()=>{C.authStore.isValid()||r("/auth/login",null)}),f(Rt,te({navigate:r,params:t,route:e},{get id(){return l()},get children(){return[f(Yn,{navigate:r,page:l,swapFeed:o}),f(ir,{fallback:(a,c)=>(()=>{var u=rs(),d=u.firstChild,h=d.nextSibling,g=h.nextSibling;return m(h,()=>a.message),g.$$click=()=>o("home"),u})(),get children(){return f(ie,{get children(){return[f(Q,{get when(){return!s()},get children(){var a=ts();return m(a,f(de,{get each(){return i()},get fallback(){return ns()},children:(c,u)=>(()=>{var d=ls(),h=d.firstChild,g=h.nextSibling;return g.nextSibling,m(d,f(Ee,te(()=>({navigate:r,route:e,params:t,...c}))),g),z(()=>F(d,N(u()==i().length-1?"sm:mb-[70px]":""))),d})()})),a}}),f(Q,{get when(){return s()},get children(){return f(de,{get each(){return Array.from({length:10})},children:()=>f(Pr,{})})}})]}})}})]}}))}re(["click"]);var ss=p('<div class=p-5><div class="flex justify-center"><img class="w-20 h-20"alt=logo></div><div class="flex justify-center"><h1 class=text-3xl>Register</h1></div><div class=mt-5><input type=email placeholder=Email class="w-full p-2 border-2 border-gray-200"></div><div class=mt-5><input type=password placeholder=Password class="w-full p-2 border-2 border-gray-200"></div><div class=mt-5><input type=password placeholder="Confirm Password"class="w-full p-2 border-2 border-gray-200"></div><div class=mt-5><button class="w-full bg-blue-500 text-white p-2">Register');function Ar(){return R(!1),R(""),R(""),R(""),(()=>{var e=ss(),t=e.firstChild,r=t.firstChild;return G(r,"src",Ne),e})()}var is=p("<div><h1>404 Not Found</h1><button>Go Home");function as(){const{route:e,params:t,goBack:r,goForward:l,navigate:n}=ae();return ce(()=>{C.checkAuth()}),C.on("change",()=>{C.authStore.isValid()||n("/auth/login")}),j(()=>{switch(e()){case"/":return f(os,{navigate:n});case"/auth/login":return f(cr,{navigate:n});case"/auth/register":return f(Ar,{navigate:n});default:return(()=>{var i=is(),s=i.firstChild,a=s.nextSibling;return a.$$click=()=>n("/"),i})()}})}re(["click"]);function Oe(){const e="device-periscope-cache",t=async(o,i,s)=>{const a=await caches.open(e),c=Date.now()+s,u=new Response(JSON.stringify({value:i,expires:c}));await a.put(new Request(o),u)},r=async o=>{const i=await caches.open(e),s=await i.match(new Request(o));if(!s)return null;const{value:a,expires:c}=await s.json();return Date.now()>c?(await i.delete(new Request(o)),null):a},l=async o=>{await(await caches.open(e)).delete(new Request(o))},n=async()=>{await caches.delete(e)};return setInterval(async()=>{const o=await caches.open(e),i=await o.keys(),s=Date.now();for(const a of i){const c=await o.match(a),{expires:u}=await c.json();u<s&&await o.delete(a)}},1e3),{set:t,get:r,remove:l,clear:n}}function cs(e){const t=JSON.parse(atob(e.split(".")[1]));return console.log(t),t.exp<Date.now()/1e3}var _e=(e=>(e.LIST="list",e.CREATE="create",e.UPDATE="update",e.GET="get",e.DELETE="delete",e.SUBSCRIBE="subscribe",e))(_e||{});class us{constructor(t){this.hasChecked=!1,this.ip="",this.ws=null,this.on=(r,l)=>{window.addEventListener(r,n=>{l(n)})},this.checkAuth=async()=>{if(localStorage.getItem("postr_auth")&&!this.hasChecked){let r=await fetch(`${this.serverURL}/auth/verify`,{headers:{Authorization:this.authStore.model.token}});if(this.hasChecked=!0,r.status!==200){console.log("Token invalid, reauthenticating"),localStorage.removeItem("postr_auth"),window.location.href="/auth/login";return}}},this.handleMessages=r=>{let l=JSON.parse(r),n=this.callbacks.get(l.callback);n&&n(l)},this.authStore={model:JSON.parse(localStorage.getItem("postr_auth")||"{}"),isValid:()=>this.authStore.model.token?!cs(this.authStore.model.token):!1,requestPasswordReset:async r=>new Promise(async(l,n)=>{const o=await fetch(`${this.serverURL}/auth/requestPasswordReset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})}),{status:i,message:s}=await o.json();return i!==200?n(s):l()}),resetPassword:async(r,l)=>new Promise(async(n,o)=>{const i=await fetch(`${this.serverURL}/auth/resetPassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,password:l})}),{status:s,message:a}=await i.json();return s!==200?o(a):n()}),logout:()=>{localStorage.removeItem("postr_auth"),window.dispatchEvent(this.changeEvent),window.location.pathname!=="/auth/login"&&(window.location.href="/auth/login")},login:async(r,l)=>new Promise(async(n,o)=>{if(r===""||l===""||!r||!l||r.length<3||l.length<3){o("Invalid email or password");return}const i=await fetch(`${this.serverURL}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emailOrUsername:r,password:l,ipAddress:this.ip,deviceInfo:navigator.userAgent})}),{data:s,status:a,message:c}=await i.json();return a!==200?o(c):(this.authStore.model=s,localStorage.setItem("postr_auth",JSON.stringify(s)),n(s))})},this.cdn={getUrl:(r,l,n)=>this.serverURL+`/api/files/${r}/${l}/${n}`},this.sendMsg=async r=>(console.log(r.payload),(await fetch(`${this.serverURL}/collection/${r.payload.collection}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:this.authStore.model.token},body:JSON.stringify(r)})).json()),this.serverURL=t.serverURL,this.ip=sessionStorage.getItem("ip"),this.callbacks=new Map,this.changeEvent=new CustomEvent("authChange"),this.statisticalData=JSON.parse(localStorage.getItem("postr_statistical")||"{}"),window.onbeforeunload=()=>{localStorage.setItem("postr_statistical",JSON.stringify(this.statisticalData)),Oe().clear()}}async getIP(){try{const r=await(await fetch("https://api.ipify.org?format=json")).json();this.ip=r.ip}catch(t){console.error(t)}}callback(t){const r=Math.random().toString(36).substring(7),l=()=>{this.callbacks.delete(r)};return this.callbacks.set(r,n=>{t(n),l()}),r}collection(t){return{subscribe:async(r,l)=>new Promise(async(n,o)=>{let i=this.callback(s=>{if(s.opCode!==Ae.OK)return o(s);l.cb(s.payload)});this.sendMsg({type:_e.SUBSCRIBE,payload:{collection:t,id:r,options:l},security:{token:this.authStore.model.token},callback:i})}),list:async(r=1,l=10,n,o=!0)=>new Promise(async(i,s)=>{const{set:a,get:c,remove:u,clear:d}=Oe(),h=n?.cacheKey||`${this.serverURL}/api/collections/${t}?page=${r}&limit=${l}`,g=o?await c(h):null;if(g)return i({opCode:Ae.OK,...Array.isArray(g)?{items:[...g]}:{items:[g.payload]},totalItems:g.totalItems,totalPages:g.totalPages});let _=await this.sendMsg({type:_e.LIST,payload:{collection:t,page:r,limit:l,options:n},security:{token:this.authStore.model.token},callback:""});o&&a(h,_.payload,new Date().getTime()+3600),i({opCode:_.opCode,items:_.payload,totalItems:_.totalItems,totalPages:_.totalPages,cacheKey:h})}),createFile:async r=>{let l=new FileReader;return l.readAsArrayBuffer(r),new Promise((n,o)=>{l.onload=()=>{n({data:Array.from(new Uint8Array(l.result)),name:r.name})}})},update:async(r,l,n)=>new Promise(async(o,i)=>{const{set:s,get:a,remove:c,clear:u}=Oe(),d=await caches.keys();for(let _ of d){const w=await(await caches.open(_)).keys();switch(t){case"posts":for(let b of w)if(b.url.includes(`${this.serverURL}/api/collections/${t}`)){const x=await(await caches.open(_)).match(b).then(v=>v?.json());if(console.log(x),Array.isArray(x.value.payload)){const v=x.value.payload,P=v.find($=>$.id===r);if(P){const $=v.indexOf(P);v[$]={...P,...l},x.payload=v}s(b.url,x.value,new Date().getTime()+3600)}else{const v=x.value.payload;v.id===r&&(x.value.payload={...v,...l},s(b.url,x.value,new Date().getTime()+3600))}}break;case"users":for(let b of w)if(b.url.includes(n?.cacheKey)){var h=await(await caches.open(_)).match(b).then(x=>x?.json());Array.isArray(h.value)?h.value=h.value.map(x=>x.id===r?{...x,...l}:x):h.value={...h.value,...l},s(b.url,h.value,new Date().getTime()+3600)}}}let g=this.sendMsg({type:_e.UPDATE,payload:{collection:t,id:r,fields:l,options:n},security:{token:JSON.parse(localStorage.getItem("postr_auth")||"{}").token},callback:""});o(g)}),create:async(r,l)=>new Promise((n,o)=>{let i=this.sendMsg({type:_e.CREATE,payload:{collection:t,data:r,expand:l?.expand},security:{token:this.authStore.model.token},callback:""});n(i.payload)}),get:async(r,l)=>new Promise(async(n,o)=>{let i=l?.cacheKey||`${this.serverURL}/api/collections/${t}/${r}`,s=await Oe().get(i);if(s)return n(s.payload);let a=await this.sendMsg({type:_e.GET,payload:{collection:t,id:r,options:l},security:{token:this.authStore.model.token},callback:""});if(a.opCode!==Ae.OK)return o(a);Oe().set(i,a,new Date().getTime()+3600),n(a.payload)})}}}function Er(){let e=new Set;function t(n){return e.add(n),()=>e.delete(n)}let r=!1;function l(n,o){if(r)return!(r=!1);const i={to:n,options:o,defaultPrevented:!1,preventDefault:()=>i.defaultPrevented=!0};for(const s of e)s.listener({...i,from:s.location,retry:a=>{a&&(r=!0),s.navigate(n,{...o,resolve:!1})}});return!i.defaultPrevented}return{subscribe:t,confirm:l}}let $t;function jt(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),$t=window.history.state._depth}jt();function ds(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function fs(e,t){let r=!1;return()=>{const l=$t;jt();const n=l==null?null:$t-l;if(r){r=!1;return}n&&t(n)?(r=!0,window.history.go(-n)):e()}}const hs=/^(?:[a-z0-9]+:)?\/\//i,gs=/^\/+|(\/)\/+$/g,Mr="http://sr";function Ie(e,t=!1){const r=e.replace(gs,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function Ye(e,t,r){if(hs.test(t))return;const l=Ie(e),n=r&&Ie(r);let o="";return!n||t.startsWith("/")?o=l:n.toLowerCase().indexOf(l.toLowerCase())!==0?o=l+n:o=n,(o||"/")+Ie(t,!o)}function ms(e,t){if(e==null)throw new Error(t);return e}function ps(e,t){return Ie(e).replace(/\/*(\*.*)?$/g,"")+Ie(t)}function Lr(e){const t={};return e.searchParams.forEach((r,l)=>{l in t?Array.isArray(t[l])?t[l].push(r):t[l]=[t[l],r]:t[l]=r}),t}function ws(e,t,r){const[l,n]=e.split("/*",2),o=l.split("/").filter(Boolean),i=o.length;return s=>{const a=s.split("/").filter(Boolean),c=a.length-i;if(c<0||c>0&&n===void 0&&!t)return null;const u={path:i?"":"/",params:{}},d=h=>r===void 0?void 0:r[h];for(let h=0;h<i;h++){const g=o[h],_=g[0]===":",w=_?a[h]:a[h].toLowerCase(),b=_?g.slice(1):g.toLowerCase();if(_&&gt(w,d(b)))u.params[b]=w;else if(_||!gt(w,b))return null;u.path+=`/${w}`}if(n){const h=c?a.slice(-c).join("/"):"";if(gt(h,d(n)))u.params[n]=h;else return null}return u}}function gt(e,t){const r=l=>l===e;return t===void 0?!0:typeof t=="string"?r(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(r):t instanceof RegExp?t.test(e):!1}function bs(e){const[t,r]=e.pattern.split("/*",2),l=t.split("/").filter(Boolean);return l.reduce((n,o)=>n+(o.startsWith(":")?2:3),l.length-(r===void 0?0:1))}function Rr(e){const t=new Map,r=_t();return new Proxy({},{get(l,n){return t.has(n)||St(r,()=>t.set(n,j(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function jr(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let r=e.slice(0,t.index),l=e.slice(t.index+t[0].length);const n=[r,r+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(l);)n.push(r+=t[1]),l=l.slice(t[0].length);return jr(l).reduce((o,i)=>[...o,...n.map(s=>s+i)],[])}const vs=100,Or=Ct(),Tr=Ct(),xs=()=>ms(Pt(Or),"<A> and 'use' router primitives can be only used inside a Route."),Wt=()=>xs().params;function ys(e,t=""){const{component:r,preload:l,load:n,children:o,info:i}=e,s=!o||Array.isArray(o)&&!o.length,a={key:e,component:r,preload:l||n,info:i};return Ir(e.path).reduce((c,u)=>{for(const d of jr(u)){const h=ps(t,d);let g=s?h:h.split("/*",1)[0];g=g.split("/").map(_=>_.startsWith(":")||_.startsWith("*")?_:encodeURIComponent(_)).join("/"),c.push({...a,originalPath:u,pattern:g,matcher:ws(g,!s,e.matchFilters)})}return c},[])}function $s(e,t=0){return{routes:e,score:bs(e[e.length-1])*1e4-t,matcher(r){const l=[];for(let n=e.length-1;n>=0;n--){const o=e[n],i=o.matcher(r);if(!i)return null;l.unshift({...i,route:o})}return l}}}function Ir(e){return Array.isArray(e)?e:[e]}function Br(e,t="",r=[],l=[]){const n=Ir(e);for(let o=0,i=n.length;o<i;o++){const s=n[o];if(s&&typeof s=="object"){s.hasOwnProperty("path")||(s.path="");const a=ys(s,t);for(const c of a){r.push(c);const u=Array.isArray(s.children)&&s.children.length===0;if(s.children&&!u)Br(s.children,c.pattern,r,l);else{const d=$s([...r],l.length);l.push(d)}r.pop()}}}return r.length?l:l.sort((o,i)=>i.score-o.score)}function mt(e,t){for(let r=0,l=e.length;r<l;r++){const n=e[r].matcher(t);if(n)return n}return[]}function ks(e,t,r){const l=new URL(Mr),n=j(u=>{const d=e();try{return new URL(d,l)}catch{return console.error(`Invalid path ${d}`),u}},l,{equals:(u,d)=>u.href===d.href}),o=j(()=>n().pathname),i=j(()=>n().search,!0),s=j(()=>n().hash),a=()=>"",c=kt(i,()=>Lr(n()));return{get pathname(){return o()},get search(){return i()},get hash(){return s()},get state(){return t()},get key(){return a()},query:r?r(c):Rr(c)}}let xe;function _s(){return xe}function Ss(e,t,r,l={}){const{signal:[n,o],utils:i={}}=e,s=i.parsePath||(y=>y),a=i.renderPath||(y=>y),c=i.beforeLeave||Er(),u=Ye("",l.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!n().value&&o({value:u,replace:!0,scroll:!1});const[d,h]=R(!1);let g;const _=(y,S)=>{S.value===w()&&S.state===x()||(g===void 0&&h(!0),xe=y,g=S,Kr(()=>{g===S&&(b(g.value),v(g.state),en(),M[1]([]))}).finally(()=>{g===S&&Vr(()=>{xe=void 0,y==="navigate"&&E(g),h(!1),g=void 0})}))},[w,b]=R(n().value),[x,v]=R(n().state),P=ks(w,x,i.queryWrapper),$=[],M=R([]),k=j(()=>typeof l.transformUrl=="function"?mt(t(),l.transformUrl(P.pathname)):mt(t(),P.pathname)),A=()=>{const y=k(),S={};for(let O=0;O<y.length;O++)Object.assign(S,y[O].params);return S},B=i.paramsWrapper?i.paramsWrapper(A,t):Rr(A),U={pattern:u,path:()=>u,outlet:()=>null,resolvePath(y){return Ye(u,y)}};return z(kt(n,y=>_("native",y),{defer:!0})),{base:U,location:P,params:B,isRouting:d,renderPath:a,parsePath:s,navigatorFactory:L,matches:k,beforeLeave:c,preloadRoute:I,singleFlight:l.singleFlight===void 0?!0:l.singleFlight,submissions:M};function Z(y,S,O){oe(()=>{if(typeof S=="number"){S&&(i.go?i.go(S):console.warn("Router integration does not support relative routing"));return}const T=!S||S[0]==="?",{replace:V,resolve:q,scroll:ee,state:Y}={replace:!1,resolve:!T,scroll:!0,...O},we=q?y.resolvePath(S):Ye(T&&P.pathname||"",S);if(we===void 0)throw new Error(`Path '${S}' is not a routable path`);if($.length>=vs)throw new Error("Too many redirects");const Le=w();(we!==Le||Y!==x())&&(ar||c.confirm(we,O)&&($.push({value:Le,replace:V,scroll:ee,state:x()}),_("navigate",{value:we,state:Y})))})}function L(y){return y=y||Pt(Tr)||U,(S,O)=>Z(y,S,O)}function E(y){const S=$[0];S&&(o({...y,replace:S.replace,scroll:S.scroll}),$.length=0)}function I(y,S){const O=mt(t(),y.pathname),T=xe;xe="preload";for(let V in O){const{route:q,params:ee}=O[V];q.component&&q.component.preload&&q.component.preload();const{preload:Y}=q;S&&Y&&St(r(),()=>Y({params:ee,location:{pathname:y.pathname,search:y.search,hash:y.hash,query:Lr(y),state:null,key:""},intent:"preload"}))}xe=T}}function Cs(e,t,r,l){const{base:n,location:o,params:i}=e,{pattern:s,component:a,preload:c}=l().route,u=j(()=>l().path);a&&a.preload&&a.preload();const d=c?c({params:i,location:o,intent:xe||"initial"}):void 0;return{parent:t,pattern:s,path:u,outlet:()=>a?f(a,{params:i,location:o,data:d,get children(){return r()}}):r(),resolvePath(g){return Ye(n.path(),g,u())}}}const zr=e=>t=>{const{base:r}=t,l=ot(()=>t.children),n=j(()=>Br(l(),t.base||""));let o;const i=Ss(e,n,()=>o,{base:r,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(i),f(Or.Provider,{value:i,get children(){return f(Ps,{routerState:i,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[j(()=>(o=_t())&&null),f(As,{routerState:i,get branches(){return n()}})]}})}})};function Ps(e){const t=e.routerState.location,r=e.routerState.params,l=j(()=>e.preload&&oe(()=>{e.preload({params:r,location:t,intent:_s()||"initial"})}));return f(H,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:n=>f(n,{params:r,location:t,get data(){return l()},get children(){return e.children}})})}function As(e){const t=[];let r;const l=j(kt(e.routerState.matches,(n,o,i)=>{let s=o&&n.length===o.length;const a=[];for(let c=0,u=n.length;c<u;c++){const d=o&&o[c],h=n[c];i&&d&&h.route.key===d.route.key?a[c]=i[c]:(s=!1,t[c]&&t[c](),Ce(g=>{t[c]=g,a[c]=Cs(e.routerState,a[c-1]||e.routerState.base,Jt(()=>l()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(n.length).forEach(c=>c()),i&&s?i:(r=a[0],a)}));return Jt(()=>l()&&r)()}const Jt=e=>()=>f(H,{get when(){return e()},keyed:!0,children:t=>f(Tr.Provider,{value:t,get children(){return t.outlet()}})}),be=e=>{const t=ot(()=>e.children);return te(e,{get children(){return t()}})};function Es([e,t],r,l){return[e,l?n=>t(l(n)):t]}function Ms(e){let t=!1;const r=n=>typeof n=="string"?{value:n}:n,l=Es(R(r(e.get()),{equals:(n,o)=>n.value===o.value&&n.state===o.state}),void 0,n=>(!t&&e.set(n),n));return e.init&&ye(e.init((n=e.get())=>{t=!0,l[1](r(n)),t=!1})),zr({signal:l,create:e.create,utils:e.utils})}function Ls(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Rs(e,t){const r=e&&document.getElementById(e);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function js(e){const t=new URL(e);return t.pathname+t.search}function Os(e){let t;const r={value:e.url||(t=xn())&&js(t.request.url)||""};return zr({signal:[()=>r,l=>Object.assign(r,l)]})(e)}const Ts=new Map;function Is(e=!0,t=!1,r="/_server",l){return n=>{const o=n.base.path(),i=n.navigatorFactory(n.base);let s,a;function c(w){return w.namespaceURI==="http://www.w3.org/2000/svg"}function u(w){if(w.defaultPrevented||w.button!==0||w.metaKey||w.altKey||w.ctrlKey||w.shiftKey)return;const b=w.composedPath().find(k=>k instanceof Node&&k.nodeName.toUpperCase()==="A");if(!b||t&&!b.hasAttribute("link"))return;const x=c(b),v=x?b.href.baseVal:b.href;if((x?b.target.baseVal:b.target)||!v&&!b.hasAttribute("state"))return;const $=(b.getAttribute("rel")||"").split(/\s+/);if(b.hasAttribute("download")||$&&$.includes("external"))return;const M=x?new URL(v,document.baseURI):new URL(v);if(!(M.origin!==window.location.origin||o&&M.pathname&&!M.pathname.toLowerCase().startsWith(o.toLowerCase())))return[b,M]}function d(w){const b=u(w);if(!b)return;const[x,v]=b,P=n.parsePath(v.pathname+v.search+v.hash),$=x.getAttribute("state");w.preventDefault(),i(P,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:$?JSON.parse($):void 0})}function h(w){const b=u(w);if(!b)return;const[x,v]=b;l&&(v.pathname=l(v.pathname)),n.preloadRoute(v,x.getAttribute("preload")!=="false")}function g(w){clearTimeout(s);const b=u(w);if(!b)return a=null;const[x,v]=b;a!==x&&(l&&(v.pathname=l(v.pathname)),s=setTimeout(()=>{n.preloadRoute(v,x.getAttribute("preload")!=="false"),a=x},20))}function _(w){if(w.defaultPrevented)return;let b=w.submitter&&w.submitter.hasAttribute("formaction")?w.submitter.getAttribute("formaction"):w.target.getAttribute("action");if(!b)return;if(!b.startsWith("https://action/")){const v=new URL(b,Mr);if(b=n.parsePath(v.pathname+v.search),!b.startsWith(r))return}if(w.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const x=Ts.get(b);if(x){w.preventDefault();const v=new FormData(w.target,w.submitter);x.call({r:n,f:w.target},w.target.enctype==="multipart/form-data"?v:new URLSearchParams(v))}}re(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",g,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",_),ye(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",g),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",_)})}}function Bs(e){if(ar)return Os(e);const t=()=>{const l=window.location.pathname.replace(/^\/+/,"/")+window.location.search,n=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:l+window.location.hash,state:n}},r=Er();return Ms({get:t,set({value:l,replace:n,scroll:o,state:i}){n?window.history.replaceState(ds(i),"",l):window.history.pushState(i,"",l),Rs(decodeURIComponent(window.location.hash.slice(1)),o),jt()},init:l=>Ls(window,"popstate",fs(l,n=>{if(n&&n<0)return!r.confirm(n);{const o=t();return!r.confirm(o.value,{state:o.state})}})),create:Is(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:l=>window.history.go(l),beforeLeave:r}})(e)}var zs=p('<div class="flex flex-row gap-5 p-5 mt-2 border border-[#f3f3f3] border-b-0 border-r-0 border-l-0"><svg viewBox="0 0 24 24"aria-hidden=true><g><path d="M8.75 21V3h2v18h-2zM18 21V8.5h2V21h-2zM4 21l.004-10h2L6 21H4zm9.248 0v-7h2v7h-2z"></path></g></svg>View Post Engagements'),Ns=p('<img class="w-10 h-10 rounded-full"alt=logo>'),Us=p('<div class="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center">'),Ds=p('<div><div class="flex flex-row gap-5 p-2"><h1 class=font-bold>Post</h1></div><div class="flex flex-col"></div><div><div class="flex flex-row gap-5"><div contenteditable=true class="input border-none focus:outline-none p-2 w-full"><p>Reply to </p></div></div></div><div>'),Vs=p("<div>Something went wrong"),Fs=p('<div class="relative flex p-2"><input type=file id=media class=hidden accept=image/*,video/* multiple><label for=media class=cursor-pointer></label><button>Post'),qs=p('<img class="w-full h-full object-cover">');function Ks(e){var{route:t,params:r,searchParams:l,navigate:n,goBack:o}=ae("/view/:collection/:id");let{id:i,collection:s}=Wt();const[a,c]=R(!1);let[u,d]=R(null,{equals:!1}),[h,g]=R([]),[_,w]=R({content:"",media:[],likes:[],author:C.authStore.model.id,...s==="comments"?{mainComment:i}:{post:i}}),[b,x]=R([]);C.authStore.isValid()||n("/auth/login",null),At();async function v(){let M=_();if(Object.assign(u().expand,{comments:u().expand.comments||[]}),b().length>0){let k=b().map(A=>{let B={name:A.name,type:A.type,size:A.size},U=new FileReader;return U.readAsArrayBuffer(A),new Promise((Z,L)=>{U.onload=()=>{Z({data:Array.from(new Uint8Array(U.result)),...B})}})});k=await Promise.all(k),M.files=k}C.collection("comments").create(M,{expand:["author"]}).then(k=>{let A=C.authStore.model;delete A.token,delete A.email,Object.assign(k,{expand:{author:C.authStore.model}}),u().expand.comments&&u().expand.comments.push(k),u().comments.push(k?.id),u().expand.comments.find(U=>U.id===k.id)||u().expand.comments.push(k);let B={comments:u().comments,expand:{comments:u().expand.comments,...u().expand}};d({...B,...u()}),x([]),w({content:"",media:[],author:C.authStore.model.id,post:null}),C.collection(s==="comments"?"comments":"posts").update(u().id,B).then(U=>{console.log(U)})})}function P(){let{params:M}=ae("/view/:collection/:id"),{id:k,collection:A}=M();d(null),C.collection(A).get(k,{cacheKey:`post-${k}`,expand:["comments","comments.likes","comments.author","author","likes","repost","repost.likes","repost.author"]}).then(B=>{d(B)}).catch(B=>{console.log(B)}),C.collection("comments").list(1,10,{filter:A==="comments"?`mainComment="${k}"`:`post="${k}"`,expand:["author","likes","comments"],cacheKey:`${A}-${k}-comments`}).then(B=>{g(B.items)})}ce(()=>{window.addEventListener("popstate",P),P()},r());let{theme:$}=le();return f(Rt,te(()=>({params:Wt,route:t,navigate:e.navigate}),{id:i,get children(){var M=Ds(),k=M.firstChild,A=k.firstChild,B=k.nextSibling,U=B.nextSibling,Z=U.firstChild,L=Z.firstChild,E=L.firstChild;E.firstChild;var I=U.nextSibling;return m(k,f(Et,{class:"w-6 h-6 cursor-pointer",onClick:()=>o(),"stroke-width":"2",get fill(){return $()==="dark"?"#fff":"#000"}}),A),m(B,f(ie,{get fallback(){return Vs()},get children(){return[f(Q,{get when(){return u()===null},get children(){return f(Pr,{})}}),f(Q,{get when(){return u()!==null},get children(){return f(Ee,te(()=>({...u(),page:t(),navigate:n,isComment:s==="comments"})))}})]}})),m(M,f(H,{get when(){return j(()=>!!u())()&&u().author===C.authStore.model.id},get children(){var y=zs(),S=y.firstChild;return z(()=>G(S,"class",N("cursor-pointer hover:rounded-full hover:bg-sky-500 hover:bg-opacity-20 size-6 hover:p-2 hover:text-sky-500",$()==="dark"?"fill-white":"fill-black"))),y}}),U),m(Z,f(H,{get when(){return C.authStore.model.avatar},get children(){var y=Ns();return z(()=>G(y,"src",C.cdn.getUrl("users",C.authStore.model.id,C.authStore.model.avatar))),y}}),L),m(Z,f(H,{get when(){return!C.authStore.model.avatar},get children(){var y=Us();return m(y,()=>C.authStore.model.username[0].toUpperCase()),y}}),L),L.$$input=y=>{y.currentTarget.textContent.length>0?c(!0):(c(!1),y.currentTarget.innerText=`Reply to ${u()&&u().expand.author.username}`),w({..._(),content:y.currentTarget.textContent})},L.$$click=y=>{y.currentTarget.querySelector("p").focus(),y.currentTarget.querySelector("p").innerText=""},m(E,(()=>{var y=j(()=>!!u());return()=>y()&&u().expand.author.username})(),null),m(U,(()=>{var y=j(()=>!!a());return()=>y()&&(()=>{var S=Fs(),O=S.firstChild,T=O.nextSibling,V=T.nextSibling;return O.addEventListener("change",q=>{w({..._(),media:q.target.files}),x(Array.from(q.target.files))}),m(T,f(Sr,{class:"w-6 h-6 cursor-pointer mb-5 mt-2"})),V.$$click=v,z(()=>F(V,N("btn btn-sm rounded-full right-0 absolute mb-5 mt-2",$()==="dark"?"bg-white text-black hover:bg-black":"bg-black text-white"))),S})()})(),null),m(U,f(H,{get when(){return j(()=>!!_())()&&_().media.length>0},get children(){return f(Ue,{class:"h-[200px]",get children(){return f(de,{get each(){return j(()=>!!_())()&&Array.from(_().media)},children:(y,S)=>(console.log(y),f(Lt,{showDelete:!0,get id(){return S()},get fileSizeError(){return y.size>1e5},onDelete:()=>{if("media"in _()){let O=_().media;O=Array.from(O),O.splice(S(),1),w({..._(),media:O}),x(O)}},get children(){var O=qs();return z(()=>G(O,"src",URL.createObjectURL(y))),O}}))})}})}}),null),m(I,f(de,{get each(){return h()},children:(y,S)=>f(Ee,te(()=>({...y,page:t(),navigate:n,isComment:!0})))})),z(y=>{var S=N("flex flex-col w-full   ",$()==="dark"?"border border-[#1c1c1c]":"border"),O=N(u()&&u().comments.length<1&&"mb-[120px]","relative border-l-0 border-r-0 p-3 sm:hidden",$()==="dark"?"border border-[#1c1c1c]":"border border-[#dadada]");return S!==y.e&&F(M,y.e=S),O!==y.t&&F(U,y.t=O),y},{e:void 0,t:void 0}),M}}))}re(["click","input"]);var Hs=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z">');function Gs(e){return(()=>{var t=Hs();return X(t,te({get class(){return`w-5 h-5 ${e.class}`}},e),!0,!0),t})()}var Zs=p('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 20 20"fill=currentColor><path d="M3 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM8.5 10a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zM15.5 8.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z">');function Ws(e){return(()=>{var t=Zs();return X(t,te({get class(){return`w-5 h-5 ${e.class}`}},e),!0,!0),t})()}var Js=p('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244">');function Ys(e){return(()=>{var t=Js();return X(t,te({get class(){return`w-5 h-5 ${e.class}`}},e),!0,!0),t})()}var Xs=p('<dialog id=editProfileModal class="modal rounded-md"><div><div class="modal-header p-3 flex justify-between"><svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 24 24"fill=currentColor class="w-5 h-5 cursor-pointer "><path fill-rule=evenodd d="M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z"clip-rule=evenodd></path></svg><h2>Edit Profile</h2><button>Save</button></div><div class="modal-body flex flex-col"><div class="flex flex-col relative"><img alt=banner class="w-full h-[6rem] object-cover rounded-md"><div class="absolute btn btn-circle bg-[#030303] bg-opacity-25 inset-x-0 mx-auto translate-x-0 left-[-2vw] text-white top-[30%]"><label for=change-banner><button><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class="w-6 h-6 "><path stroke-linecap=round stroke-linejoin=round d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"></path><path stroke-linecap=round stroke-linejoin=round d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"></path></svg></button></label></div><div class="absolute top-[40px] left-2"><div class="relative w-32 "><img alt=""class="w-20 h-20 object-cover avatar rounded border-slate-200 border-2"></div></div></div></div><div class=p-3><div class="flex flex-col mt-5 gap-5 p-2"><label>Username</label><input type=text></div><div class="flex flex-col mt-2 gap-5 p-2"><label>Bio</label><textarea></textarea></div><div class="flex flex-col mt-2 gap-5 p-2"><label>Location</label><input type=text></div><div class="flex flex-col mt-2 gap-5 p-2"><label>Socials</label><input type=text>');function Qs(){const{theme:e}=le();return(()=>{var t=Xs(),r=t.firstChild,l=r.firstChild,n=l.firstChild,o=n.nextSibling,i=o.nextSibling,s=l.nextSibling,a=s.firstChild,c=a.firstChild,u=c.nextSibling,d=u.nextSibling,h=d.firstChild,g=h.firstChild,_=s.nextSibling,w=_.firstChild,b=w.firstChild,x=b.nextSibling,v=w.nextSibling,P=v.firstChild,$=P.nextSibling,M=v.nextSibling,k=M.firstChild,A=k.nextSibling,B=M.nextSibling,U=B.firstChild,Z=U.nextSibling;return n.$$click=()=>document.getElementById("editProfileModal")?.close(),z(L=>{var E=N("modal-content sm:w-[20rem]  w-[27rem]  rounded-xl",(e()==="dark","bg-white")),I=N("btn btn-sm rounded-full ",e()==="dark"?"bg-white text-black hover:bg-black":"bg-black text-white"),y=C.cdn.getUrl("users",C.authStore.model.id,C.authStore.model.banner),S=C.cdn.getUrl("users",C.authStore.model.id,C.authStore.model.avatar),O=N("input focus:outline-none",e()==="dark"?"border border-gray-800":"border border-[#cac9c9] focus:border-[#cac9c9]"),T=N("input p-2 h-[4rem] focus:outline-none",e()==="dark"?"border border-gray-800 backdrop:":"border border-[#cac9c9] focus:border-[#cac9c9]"),V=N("input focus:outline-none",e()==="dark"?"border border-gray-800":"border border-[#cac9c9] focus:border-[#cac9c9]"),q=N("input focus:outline-none",e()==="dark"?"border border-gray-800":"border border-[#cac9c9] focus:border-[#cac9c9]");return E!==L.e&&F(r,L.e=E),I!==L.t&&F(i,L.t=I),y!==L.a&&G(c,"src",L.a=y),S!==L.o&&G(g,"src",L.o=S),O!==L.i&&F(x,L.i=O),T!==L.n&&F($,L.n=T),V!==L.s&&F(A,L.s=V),q!==L.h&&F(Z,L.h=q),L},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),z(()=>x.value=C.authStore.model.username),z(()=>$.value=C.authStore.model.bio),z(()=>A.value=C.authStore.model.location),z(()=>Z.value=C.authStore.model.social),t})()}re(["click"]);var ei=p('<div class="flex flex-col items-center justify-center h-screen bg-white z-[99999] "><div class="loading loading-spinner text-blue-500">'),ti=p('<img class="rounded-full xl:w-24 xl:h-24 w-[5rem] h-[5rem] mx-1 border-2 -mt-12 object-cover">'),ri=p('<div class="rounded-full w-24 h-24 mx-1 border-4 border-white -mt-12 bg-base-300">'),ni=p("<button>Unfollow"),li=p("<button>Follow"),oi=p("<button>Edit Profile"),si=p('<div class="flex flex-col relative"><div class="flex flex-row justify-between p-2 h-[10rem]"><div></div><div class="flex flex-row gap-2"></div></div><div class="flex justify-between items-center ">'),ii=p('<div class="flex flex-col p-2"><h1 class="text-2xl font-bold flex hero gap-2"></h1><span class="text-sm mt-1 opacity-60">@</span><p class=" mt-2"></p><div class="flex flex-row gap-5 mt-2"><p class="flex flex-row gap-2 items-cente text-sm opacity-50"> <!> Joined <!> </p></div><div class="flex flex-row gap-2 mt-2">'),ai=p('<div class="w-screen justify-center flex mx-auto">'),ci=p('<span class="bg-blue-500 w-full text-white p-[0.15rem] rounded-full transition-all duration-300 ease-in-out">'),pt=p('<span class="bg-blue-500 w-full text-white p-[0.15rem] rounded-full ">'),ui=p('<div class="flex flex-row justify-between p-2 border-b"><p class="flex flex-col border-b-gray-500">Posts</p><p class="flex flex-col">Replies</p><p class="flex flex-col">Likes</p><p class="flex flex-col">Snippets'),di=p('<div class="flex flex-col">'),fi=p('<p class="flex flex-row gap-1 items-center text-sm "><a class=text-blue-500>'),hi=p("<p><span class=font-bold> </span> <span class=text-gray-500> Following"),gi=p("<p><span class=font-bold> </span><span class=text-gray-500> Followers"),mi=p("<div> <!> ");function pi(){const{params:e,route:t,navigate:r,goBack:l}=ae("/u/:id"),[n,o]=R(null,{equals:!1}),{theme:i}=le(),[s,a]=R("posts");let[c,u]=R(!0),{feed:d,currentPage:h,posts:g,reset:_,setPosts:w}=Cr("posts",{filter:`author.username="${e().id}"`,sort:"asc"});ce(()=>{C.collection("users").list(1,1,{filter:Je("username","=",`"${e().id}"`),expand:["followers","following"],cacheKey:`/u/user_${e().id}`}).then(v=>{v.opCode===Ae.OK&&(o(v.items[0]),u(!1))}),g().length>0,setRelevantText("You might also like")},[e().id]);function b(v){console.log(v);let P=n().followers,$=C.authStore.model.following;switch(v){case"unfollow":P=P.filter(M=>M!=C.authStore.model.id),console.log(P),n().followers=P,o({...n(),followers:P}),u(!1),$=$.filter(M=>M!=n().id);break;case"follow":P.push(C.authStore.model.id),n().followers=P,o({...n(),followers:P}),u(!1),!$.includes(n().id)&&$.push(n().id);break}console.log($),C.collection("users").update(n().id,{followers:P},{expand:["followers","following"],cacheKey:`/u/user_${n().username}`}),C.collection("users").update(C.authStore.model.id,{following:$},{expand:["followers","following"],cacheKey:`/u/${C.authStore.model.username}`})}const x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return f(Rt,te({params:e,route:t,navigate:r,id:"user"},{get children(){return[f(ie,{get children(){return[f(Q,{get when(){return c()},get children(){return ei()}}),f(Q,{get when(){return!c()},get children(){return[(()=>{var v=si(),P=v.firstChild,$=P.firstChild,M=$.nextSibling,k=P.nextSibling;return P.style.setProperty("background-size","cover"),m($,f(Et,{class:"p-2 h-[2.2rem] bg-base-200 cursor-pointer rounded-full bg-opacity-50",onClick:()=>l()})),m(M,f(hr,{class:"p-2 h-[2.2rem] bg-base-200 rounded-full bg-opacity-50 xl:hidden"}),null),m(M,f(Ws,{class:"p-2 h-[2.2rem] bg-base-200 rounded-full bg-opacity-50 xl:hidden"}),null),m(k,f(ie,{get children(){return[f(Q,{get when(){return j(()=>!!n())()&&n().avatar},get children(){var A=ti();return z(()=>G(A,"src",C.cdn.getUrl("users",n().id,n().avatar))),A}}),f(Q,{get when(){return!n()||!n().avatar},get children(){return ri()}})]}}),null),m(k,f(ie,{get children(){return[f(Q,{get when(){return j(()=>!!(n()&&n().id!=C.authStore.model.id))()&&n().followers.includes(C.authStore.model.id)},get children(){var A=ni();return A.$$click=()=>b("unfollow"),F(A,i==="dark"?"bg-white text-black p-2 w-24 mr-2 text-sm":"bg-black text-white p-2 rounded-full w-24 mr-2 text-sm"),A}}),f(Q,{get when(){return j(()=>!n())()&&n().id!=C.authStore.model.id||n().id!=C.authStore.model.id&&!n().followers.includes(C.authStore.model.id)},get children(){var A=li();return A.$$click=()=>b("follow"),F(A,i==="dark"?"bg-white text-black p-2 w-24 mr-2 text-sm":"bg-black text-white p-2 rounded-full w-24 mr-2 text-sm"),A}})]}}),null),m(k,f(H,{get when(){return n().id===C.authStore.model.id},get children(){var A=oi();return A.$$click=()=>document.getElementById("editProfileModal").showModal(),z(()=>F(A,N(i==="dark"?"bg-white text-black p-2 w-24 mr-2 text-sm":"bg-black text-white p-2 rounded-full w-24 mr-2 text-sm","sm:mt-1"))),A}}),null),z(A=>(A=n()&&n().banner?`url(${C.cdn.getUrl("users",n().id,n().banner)})`:"linear-gradient(90deg, #ff5858 0%, #f09819 49%, #ff5858 100%)")!=null?P.style.setProperty("background-image",A):P.style.removeProperty("background-image")),v})(),(()=>{var v=ii(),P=v.firstChild,$=P.nextSibling;$.firstChild;var M=$.nextSibling,k=M.nextSibling,A=k.firstChild,B=A.firstChild,U=B.nextSibling,Z=U.nextSibling,L=Z.nextSibling;L.nextSibling;var E=k.nextSibling;return m(P,(()=>{var I=j(()=>!!n());return()=>I()?n().username:"Loading..."})(),null),m(P,f(H,{get when(){return j(()=>!!n())()&&n().verified},get children(){return f(_r,{class:"h-7 w-7 text-white stroke-white fill-blue-500"})}}),null),m($,(()=>{var I=j(()=>!!n());return()=>I()&&n().username})(),null),m($,(()=>{var I=j(()=>!!n());return()=>I()&&n().id.slice(0,5)})(),null),m(M,(()=>{var I=j(()=>!!n());return()=>I()&&n().bio})()),m(k,(()=>{var I=j(()=>!!(n()&&n().social));return()=>I()&&(()=>{var y=fi(),S=y.firstChild;return m(y,f(Ys,{class:"h-4 w-4"}),S),m(S,(()=>{var O=j(()=>!!n());return()=>O()&&n().social.split("/")[2].split(".")[0]})()),z(()=>G(S,"href",n()&&n().social)),y})()})(),A),m(A,f(Gs,{class:"h-5 w-5"}),U),m(A,(()=>{var I=j(()=>!!n());return()=>I()&&x[new Date(n().created).getMonth()]})(),L),m(A,(()=>{var I=j(()=>!!n());return()=>I()&&new Date(n().created).getFullYear()})(),null),m(E,(()=>{var I=j(()=>!!(n()&&n().following));return()=>I()&&(()=>{var y=hi(),S=y.firstChild,O=S.firstChild;return m(S,()=>n().following.length,O),y})()})(),null),m(E,(()=>{var I=j(()=>!!(n()&&n().followers));return()=>I()&&(()=>{var y=gi(),S=y.firstChild,O=S.firstChild;return m(S,()=>n().followers.length,O),y})()})(),null),v})(),f(H,{get when(){return n()},get children(){return[f(H,{get when(){return!n()},get children(){return ai()}}),(()=>{var v=ui(),P=v.firstChild;P.firstChild;var $=P.nextSibling;$.firstChild;var M=$.nextSibling;M.firstChild;var k=M.nextSibling;return k.firstChild,P.$$click=()=>a("posts"),m(P,f(H,{get when(){return s()==="posts"},get children(){return ci()}}),null),$.$$click=()=>a("Replies"),m($,f(H,{get when(){return s()==="Replies"},get children(){return pt()}}),null),M.$$click=()=>a("Likes"),m(M,f(H,{get when(){return s()==="Likes"},get children(){return pt()}}),null),k.$$click=()=>a("snippets"),m(k,f(H,{get when(){return s()==="snippets"},get children(){return pt()}}),null),v})(),(()=>{var v=di();return m(v,(()=>{var P=j(()=>g().length>0);return()=>P()&&f(de,{get each(){return g()},children:($,M)=>{let k={...$};return(()=>{var A=mi(),B=A.firstChild,U=B.nextSibling;return U.nextSibling,m(A,f(Ee,{get noBottomBorder(){return M()==g().length-1},get author(){return k.author},get comments(){return k.comments},get content(){return k.content},get created(){return k.created},get id(){return k.id},get likes(){return k.likes},navigate:r,get pinned(){return k.pinned},get expand(){return k.expand},route:t,get files(){return k.files},get isRepost(){return k.isRepost},params:e}),U),z(()=>F(A,N(M()==g().length-1&&g().length>1?"sm:mb-[70px]":""))),A})()}})})()),v})()]}})]}})]}}),f(qe,{get children(){return f(Qs,{})}})]}}))}re(["click"]);var wi=p('<div class="flex flex-col gap-5 p-5"><p class="text-2xl font-bold">Password Reset Requested</p><p class=text-lg>Check your email for the reset link.'),bi=p('<div class=" relative w-full p-2 xl:mt-5 justify-center flex flex-col gap-5 mx-auto xl:w-[30vw] lg:w-[50vw]"><img class="w-20 h-20 mx-auto black"><div class=" mb-12 flex flex-col gap-5 w-full"><p class=" mt-2 sm:mt-0 w-full text-3xl font-extrabold ">Request a password reset.</p><p class=text-lg>Lets get you back into your account.</p></div><label for=email>Email</label><div class="relative w-full"><input name=email id=email autocomplete=email type=email class="input rounded input-bordered w-full"></div><p class="text-xs text-red-500"></p><button class="btn text-white rounded hover:bg-rose-500 bg-rose-500 relative">Request Reset');function Yt(){const[e,t]=R(""),[r,l]=R("");function n(){if(!r()){t("Please enter an email address.");return}C.authStore.requestPasswordReset(r()).then(o=>{o.opCode===200?document.getElementById("resetPasswordModal").showModal():t(o.message)}).catch(o=>{t("An error occured. Please try again later.")})}return(()=>{var o=bi(),i=o.firstChild,s=i.nextSibling,a=s.nextSibling,c=a.nextSibling,u=c.firstChild,d=c.nextSibling,h=d.nextSibling;return G(i,"src",Ne),u.$$input=g=>l(g.target.value),m(d,e),h.$$click=n,m(o,f(nt,{id:"resetPasswordModal",get children(){return wi()}}),null),o})()}re(["input","click"]);const vi=document.getElementById("root"),C=new us({serverURL:"https://api.postlyapp.com"});dn(()=>f(Bs,{get children(){return[f(be,{path:"/auth/login",component:cr}),f(be,{path:"/auth/ForgotPassword",component:Yt}),f(be,{path:"/auth/reset-password/:token",component:Yt}),f(be,{path:"/auth/register",component:Ar}),f(be,{path:"/",component:as}),f(be,{path:"/view/:collection/:id",component:Ks}),f(be,{path:"/u/:id",component:pi})]}}),vi);
