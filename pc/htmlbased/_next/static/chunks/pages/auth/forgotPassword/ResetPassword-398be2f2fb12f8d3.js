(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{467:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/forgotPassword/ResetPassword",function(){return t(5997)}])},5997:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var a=t(5893),o=t(2545),r=t(7294);function l(e){let[s,t]=(0,r.useState)(""),[l,n]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,i]=(0,r.useState)(""),[m,w]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(!1),x=new URLSearchParams(window.location.search);return x.get("token")||e.swapPage("forgotPassword"),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"    w-full   ",children:(0,a.jsxs)("div",{className:" p-5 mb-12 flex flex-col gap-5 justify-center mx-auto w-full   xl:w-[30vw] lg:w-[50vw] md:w-[50vw]   ",children:[(0,a.jsx)("p",{className:" mt-2 text-2xl w-full ",children:"Reset your password"}),(0,a.jsx)("p",{className:"text-sm",children:"Enter a new Strong password"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{id:"passwordlabel",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{maxLength:100,minLength:8,type:"password",onChange:e=>{t(e.target.value)},className:"input rounded input-bordered",placeholder:"Enter Your Password"}),(0,a.jsx)("label",{id:"confirmpasswordlabel",htmlFor:"confirmpassword",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",className:"input rounded input-bordered",onChange:e=>{n(e.target.value)},placeholder:"Confirm Your Password"}),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-red-500",children:u}),(0,a.jsx)("p",{className:"text-green-500",children:m})]})]}),(0,a.jsx)("button",{className:"btn rounded bg-blue-500",onClick:()=>{!function(){if(!1===function(){if(console.log(s.length),s.length<8){i("Password must be at least 8 characters and less than 50 characters"),p(!0);let e=setTimeout(()=>{i(""),p(!1),clearTimeout(e)},2e3);return!1}if(s!==l){i("Passwords do not match");let e=setTimeout(()=>{i(""),clearTimeout(e)},2500);return!1}let e=s.split(""),t=!1,a=!1,o=!1;for(let s=0;s<e.length;s++)e[s].match(/[a-zA-Z]/)&&(t=!0),e[s].match(/[0-9]/)&&(a=!0),e[s].match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/)&&(o=!0);if(!t){i("Password must contain at least one letter"),p(!0);let e=setTimeout(()=>{i(""),p(!1),clearTimeout(e)},2e3);return!1}if(!a){i("Password must contain at least one number"),p(!0);let e=setTimeout(()=>{i(""),p(!1),clearTimeout(e)},2e3);return!1}if(!o){i("Password must contain at least one special character"),p(!0);let e=setTimeout(()=>{i(""),p(!1),clearTimeout(e)},2e3);return!1}return!0}())return;g(!0);let e=x.get("token");console.log({token:e,password:s}),document.getElementById("passwordResetModal").showModal(),g(!1),w("Password reset successfully"),o.h.authStore.resetPassword(e,s).then(e=>{g(!1),w("Password reset successfully");let s=setTimeout(()=>{w(""),clearTimeout(s)},2e3);document.getElementById("passwordResetModal").showModal()}).catch(e=>{console.log(e),i(e.message),p(!0)})}()},children:"Reset Password"})]})}),(0,a.jsx)("dialog",{id:"passwordResetModal",className:"modal rounded-md",children:(0,a.jsxs)("div",{className:"modal-box flex  rounded flex-col gap-5 \n             ".concat("dark"===theme?"bg-black  border-[#121212] border-2 border-b-none ":"bg-white  border   border-[#f6f4f4] bg-opacity-75 bg-white ","  \n              p-5"),children:[(0,a.jsx)("p",{children:"Succesfully Reset Password"}),(0,a.jsx)("p",{children:"You have successfully reset your password. You can now login with your new password."}),(0,a.jsx)("button",{onClick:()=>{document.getElementById("passwordResetModal").close(),window.history.pushState({},document.title,"/"),e.swapPage("login")},className:"btn bg-blue-500 rounded",children:"Login"})]})})]})}}},function(e){e.O(0,[774,545,888,179],function(){return e(e.s=467)}),_N_E=e.O()}]);