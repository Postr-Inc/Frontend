(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{2099:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/page",function(){return s(3985)}])},8833:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var a=s(5893),l=s(7294),r=s(2506),n=s(5415),o=s(2545),i=s(230),c=s(8565);function d(e){let t=(0,l.useRef)(!1),[s,d]=(0,l.useState)([]),[u,m]=(0,l.useState)(!1),[h,x]=(0,l.useState)(!1);async function p(){x(!0);let e=await o.h.read({collection:"users",cacheKey:"bookmarks-".concat(o.h.authStore.model().id),id:o.h.authStore.model().id,expand:["bookmarks","bookmarks.author","bookmarks.comments","bookmarks.comments.user"]});d(e.expand.bookmarks?e.expand.bookmarks:[]),setTimeout(()=>{x(!1)},1e3)}return t.current||(p(),t.current=!0),(0,l.useEffect)(()=>{m(!0)},[s]),(0,a.jsx)(a.Fragment,{children:u?(0,a.jsxs)("div",{className:"relative xl:flex  sm:p-2  lg:flex   xl:w-[80vw]   justify-center xl:mx-auto    ",children:[(0,a.jsx)(i.k,{params:e.params,setParams:e.setParams,currentPage:e.currentPage,swapPage:e.swapPage}),(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("div",{className:"sticky bg-white z-[999] xl:mx-24 p-3 sm:p-2 top-0",children:(0,a.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col ",children:[(0,a.jsx)("p",{className:"font-bold",children:"Bookmarks"}),(0,a.jsxs)("p",{children:["@",o.h.authStore.model().username]})]}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM12.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM18.75 12a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"})})]})}),(0,a.jsxs)("div",{className:" xl:mx-24  sm:p-2   text-md    relative  xl:w-[35vw] md:w-[80vw]  xl:text-sm md:text-sm",children:[(0,a.jsx)("div",{className:"mb-32",children:h?(0,a.jsx)("div",{children:(0,a.jsx)(n.g,{})}):(0,a.jsx)("div",{children:s.length>0?s.map(t=>(0,l.createElement)(r.Z,{...t,key:t.id,post:t,page:"bookmarks",params:e.params,setParams:e.setParams,currentPage:e.currentPage,swapPage:e.swapPage,deleteBookmark:async()=>{d(s.filter(e=>e.id!==t.id))}})):(0,a.jsxs)("div",{className:"  flex flex-col mt-6 xl:justify-center xl:mx-auto  xl:p-5 lg:p-5 lg:justify-center lg:mx-auto w-[22rem] xl:w-[30rem] drop-shadow-md not-sr-only    ",children:[(0,a.jsx)("span",{className:"  font-bold text-2xl mt-2 ",children:"Save posts to view them here"}),(0,a.jsx)("span",{className:"text-sm",children:"Dont let your favorite posts get away. Tap the bookamark icon on the bottom of any post to add it to this collection. So you can easily find it later."})]})})}),(0,a.jsx)("div",{className:"xl:hidden lg:hidden",children:(0,a.jsx)(c.L,{params:e.params,setParams:e.setParams,currentPage:e.currentPage,swapPage:e.swapPage})})]})]}),(0,a.jsx)(i.h,{params:e.params,setParams:e.setParams,currentPage:e.currentPage,swapPage:e.swapPage})]}):""})}},5997:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(5893),l=s(2545),r=s(7294);function n(e){let[t,s]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,p]=(0,r.useState)(!1),[g,w]=(0,r.useState)(!1),f=new URLSearchParams(window.location.search);return f.get("token")||e.swapPage("forgotPassword"),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"    w-full   ",children:(0,a.jsxs)("div",{className:" p-5 mb-12 flex flex-col gap-5 justify-center mx-auto w-full   xl:w-[30vw] lg:w-[50vw] md:w-[50vw]   ",children:[(0,a.jsx)("p",{className:" mt-2 text-2xl w-full ",children:"Reset your password"}),(0,a.jsx)("p",{className:"text-sm",children:"Enter a new Strong password"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{id:"passwordlabel",htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{maxLength:100,minLength:8,type:"password",onChange:e=>{s(e.target.value)},className:"input rounded input-bordered",placeholder:"Enter Your Password"}),(0,a.jsx)("label",{id:"confirmpasswordlabel",htmlFor:"confirmpassword",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",className:"input rounded input-bordered",onChange:e=>{o(e.target.value)},placeholder:"Confirm Your Password"}),(0,a.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-red-500",children:d}),(0,a.jsx)("p",{className:"text-green-500",children:m})]})]}),(0,a.jsx)("button",{className:"btn rounded bg-blue-500",onClick:()=>{!function(){if(!1===function(){if(console.log(t.length),t.length<8){u("Password must be at least 8 characters and less than 50 characters"),p(!0);let e=setTimeout(()=>{u(""),p(!1),clearTimeout(e)},2e3);return!1}if(t!==n){u("Passwords do not match");let e=setTimeout(()=>{u(""),clearTimeout(e)},2500);return!1}let e=t.split(""),s=!1,a=!1,l=!1;for(let t=0;t<e.length;t++)e[t].match(/[a-zA-Z]/)&&(s=!0),e[t].match(/[0-9]/)&&(a=!0),e[t].match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/)&&(l=!0);if(!s){u("Password must contain at least one letter"),p(!0);let e=setTimeout(()=>{u(""),p(!1),clearTimeout(e)},2e3);return!1}if(!a){u("Password must contain at least one number"),p(!0);let e=setTimeout(()=>{u(""),p(!1),clearTimeout(e)},2e3);return!1}if(!l){u("Password must contain at least one special character"),p(!0);let e=setTimeout(()=>{u(""),p(!1),clearTimeout(e)},2e3);return!1}return!0}())return;w(!0);let e=f.get("token");console.log({token:e,password:t}),document.getElementById("passwordResetModal").showModal(),w(!1),h("Password reset successfully"),l.h.authStore.resetPassword(e,t).then(e=>{w(!1),h("Password reset successfully");let t=setTimeout(()=>{h(""),clearTimeout(t)},2e3);document.getElementById("passwordResetModal").showModal()}).catch(e=>{console.log(e),u(e.message),p(!0)})}()},children:"Reset Password"})]})}),(0,a.jsx)("dialog",{id:"passwordResetModal",className:"modal rounded-md",children:(0,a.jsxs)("div",{className:"modal-box flex  rounded flex-col gap-5 \n             ".concat("dark"===theme?"bg-black  border-[#121212] border-2 border-b-none ":"bg-white  border   border-[#f6f4f4] bg-opacity-75 bg-white ","  \n              p-5"),children:[(0,a.jsx)("p",{children:"Succesfully Reset Password"}),(0,a.jsx)("p",{children:"You have successfully reset your password. You can now login with your new password."}),(0,a.jsx)("button",{onClick:()=>{document.getElementById("passwordResetModal").close(),window.history.pushState({},document.title,"/"),e.swapPage("login")},className:"btn bg-blue-500 rounded",children:"Login"})]})})]})}},8540:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(5893),l=s(7294),r=s(2545);function n(e){let[t,s]=(0,l.useState)(!1),[n,o]=(0,l.useState)(""),[i,c]=(0,l.useState)("");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"  w-full",children:(0,a.jsxs)("div",{className:" p-5 mb-12 flex flex-col gap-5  w-full   xl:w-[30vw] lg:w-[50vw] md:w-[50vw]   justify-center mx-auto   ",children:[(0,a.jsx)("p",{className:" mt-2 text-2xl w-full ",children:"Reset your password"}),(0,a.jsx)("p",{className:"text-sm",children:"Enter your email address and we will send you a link to reset your password"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("label",{id:"emaillabel",htmlFor:"email",children:"Email"}),(0,a.jsx)("input",{type:"email",className:"input rounded input-bordered",placeholder:"Enter Your Email"})]}),(0,a.jsx)("button",{className:"btn bg-blue-500 rounded ",onClick:()=>{!function(){let e=document.querySelector('input[type="email"]').value;if(0===e.length){document.getElementById("emaillabel").innerHTML="Email cannot be empty",document.getElementById("emaillabel").style.color="red",setTimeout(()=>{document.getElementById("emaillabel").innerHTML="Email",document.getElementById("emaillabel").style.color="black"},2e3);return}if(!/\S+@\S+\.\S+/.test(e)){document.getElementById("emaillabel").innerHTML="Please input a valid email",document.getElementById("emaillabel").style.color="red",setTimeout(()=>{document.getElementById("emaillabel").innerHTML="Email",document.getElementById("emaillabel").style.color="black"},2e3);return}r.h.authStore.requestPasswordReset(e).then(()=>{s(!1),c("Password reset successfully");let e=setTimeout(()=>{c(""),clearTimeout(e)},2e3);document.getElementById("passwordResetModal").showModal()}).catch(e=>{s(!1),o("An error occurred. Please try again later");let t=setTimeout(()=>{o(""),clearTimeout(t)},2e3)})}()},children:"Request Password Reset"}),(0,a.jsx)("span",{onClick:()=>e.swapPage("login"),className:"text-blue-500 rounded cursor-pointer",children:"Back to login"})]})}),(0,a.jsx)("dialog",{id:"passwordResetModal",className:"modal rounded-md",children:(0,a.jsxs)("div",{className:"modal-box flex  rounded flex-col gap-5 \n             ".concat("dark"===theme?"bg-black  border-[#121212] border-2 border-b-none ":"bg-white  border   border-[#f6f4f4] bg-opacity-75 bg-white ","  \n              p-5"),children:[(0,a.jsx)("p",{children:"Reset Password"}),(0,a.jsx)("p",{children:"A link to reset your password has been sent to your email. Please check your email and follow the instructions to reset your password."}),(0,a.jsx)("button",{onClick:()=>{document.getElementById("passwordResetModal").close()},className:"btn bg-blue-500 rounded",children:"OK"})]})})]})}},6150:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(5893),l=s(7294),r=s(2545);function n(e){let[t,s]=(0,l.useState)(!1),[n,o]=(0,l.useState)(""),[i,c]=(0,l.useState)("");(0,l.useEffect)(()=>{s(!0)},[]),r.h.authStore.isValid()&&e.swapPage("home"),window.matchMedia("(prefers-color-scheme: dark)").matches;let[d,u]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{d||setTimeout(()=>{u(!1)},1e3)},[d]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:" relative    p-5 w-screen  justify-center flex flex-col gap-5 mx-auto xl:w-[30vw] lg:w-[50vw] ",children:[(0,a.jsx)("div",{className:" mb-12 flex flex-col gap-5  w-full",children:(0,a.jsx)("p",{className:" mt-2 text-2xl w-full ",children:"Sign in to Postr"})}),(0,a.jsx)("label",{htmlFor:"email",children:"Email"}),(0,a.jsx)("div",{className:"relative w-full",children:(0,a.jsx)("input",{name:"email",onChange:e=>{c(e.target.value)},type:"email",className:"input rounded input-bordered w-full"})}),(0,a.jsx)("label",{htmlFor:"password",children:"Password"}),(0,a.jsx)("input",{name:"password",type:"password",className:"input rounded input-bordered w-full",onChange:e=>{o(e.target.value)}}),(0,a.jsx)("button",{onClick:()=>{u(!0),r.h.authStore.login(i,n).then(t=>{e.swapPage("home")}).catch(e=>{console.log(e)})},className:"btn  text-white rounded hover:bg-rose-500  bg-rose-500 relative",children:"Login"}),(0,a.jsx)("a",{onClick:()=>{e.swapPage("forgotPassword")},className:"text-xs cursor-pointer text-rose-500",children:"Forgot password?"}),(0,a.jsx)("a",{onClick:()=>{e.swapPage("register")},className:"text-xs  cursor-pointer text-rose-500",children:"Create account"})]},e.key)})}},3387:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return n}});var a=s(5893),l=s(2545),r=s(7294);function n(e){let[t,s]=(0,r.useState)(""),n=(0,r.useRef)();async function o(){if(t.length<8||t.length>50){n.current.innerHTML="Password must be at least 8 characters and less than 50 characters",n.current.style.color="red";let e=setTimeout(()=>{n.current.innerHTML="Create a password",n.current.style.color="black",clearTimeout(e)},2e3);return}console.log(await l.h.authStore.create({username:e.params.username,email:e.params.email,password:t,followers:[],following:[],bookmarks:[]})),document.getElementById("signupModal").showModal()}return(0,a.jsxs)("div",{className:"relative    p-5 w-screen  justify-center flex flex-col gap-3 mx-auto   xl:w-[30vw] lg:w-[50vw]",children:[(0,a.jsxs)("div",{className:" mb-12 flex flex-col gap-5  w-full",children:[(0,a.jsx)("div",{className:"flex justify-between gap-2 hero",children:(0,a.jsx)("p",{className:"text-blue-500 cursor-pointer",onClick:()=>e.swapPage("login"),children:"Login"})}),(0,a.jsx)("p",{className:" mt-2 text-2xl w-full ",children:"Create your account"})]}),(0,a.jsx)("label",{htmlFor:"username",className:"text-sm",children:"Name"}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{name:"username",value:e.params.username,disabled:!0,type:"text",className:"input input-bordered w-full placeholder:text-blue-500"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-green-500 absolute end-5 top-1/2 transform -translate-y-1/2 right-3",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,a.jsx)("label",{htmlFor:"email",className:"text-sm",children:"Email"}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{name:"email",disabled:!0,value:e.params.email,type:"text",className:"input input-bordered placeholder:text-blue-500 w-full"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-green-500 absolute end-5 top-1/2 transform -translate-y-1/2 right-3",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",ref:n,className:"text-sm",children:"Create a password"}),(0,a.jsx)("div",{className:"relative w-full",children:(0,a.jsx)("input",{name:"password",placeholder:t,onChange:e=>{s(e.target.value)},type:"password",className:"input input-bordered placeholder:text-blue-500 w-full"})})]}),(0,a.jsxs)("p",{children:["By clicking signup you agree to follow our"," ",(0,a.jsx)("a",{className:"text-blue-500",href:"/information/terms.pdf",target:"_blank",children:"Terms of Service"})," ","and"," ",(0,a.jsx)("a",{className:"text-blue-500",href:"/information/privacy.pdf",target:"_blank",children:"Privacy Policy"})]}),(0,a.jsx)("button",{onClick:()=>{o()},className:"btn  text-white hover:bg-blue-500 bg-blue-500    relative",children:"Signup"}),(0,a.jsx)("dialog",{id:"signupModal",className:"modal rounded-md",children:(0,a.jsxs)("div",{className:"modal-box flex  rounded flex-col gap-5 \n             ".concat("dark"===theme?"bg-black  border-[#121212] border-2 border-b-none ":"bg-white  border   border-[#f6f4f4] bg-opacity-75 bg-white ","  \n              p-5"),children:[(0,a.jsx)("p",{className:"text-green-500",children:"Succesfully Signed Up"}),(0,a.jsx)("p",{children:"You have successfully signed up. Please check your email for a verification link to verify your account."}),(0,a.jsx)("button",{onClick:()=>{document.getElementById("passwordResetModal").close(),e.swapPage("login")},className:"btn bg-blue-500 rounded",children:"Login"})]})})]})}},6992:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(5893),l=s(7294),r=s(9332),n=s(2545);function o(e){var t,s,o,i;let c=(0,r.useSearchParams)();window.matchMedia("(prefers-color-scheme: dark)").matches;let[d,u]=(0,l.useState)({email:c.get("email")?null===(t=c.get("email"))||void 0===t?void 0:t.toString():null,name:c.get("name")?null===(s=c.get("name"))||void 0===s?void 0:s.toString():null}),m=(0,l.useRef)(),h=(0,l.useRef)(),[x,p]=(0,l.useState)(null),[g,w]=(0,l.useState)(null),[f,j]=(0,l.useState)(!1),[b,v]=(0,l.useState)(c.get("email")?null===(o=c.get("email"))||void 0===o?void 0:o.toString():null),[N,y]=(0,l.useState)(c.get("name")?null===(i=c.get("name"))||void 0===i?void 0:i.toString():null),P=(0,l.useRef)();async function k(){j(!0),p(!1),w(!1),P.current.disabled=!0;try{if(!function(){if("name"in d){if(!("email"in d)){h.current.innerHTML="Please input a valid email",h.current.style.color="red";let e=setTimeout(()=>{h.current.style.color="black",h.current.innerHTML="Email",clearTimeout(e)},2e3);return!1}}else{m.current.innerHTML="Please input a name",m.current.style.color="red";let e=setTimeout(()=>{m.current.style.color="black",m.current.innerHTML="Name",clearTimeout(e)},2e3);return!1}if(!/\S+@\S+\.\S+/.test(b)){h.current.innerHTML="Please input a valid email",h.current.style.color="red";let e=setTimeout(()=>{h.current.style.color="black",h.current.innerHTML="Email",clearTimeout(e)},2e3);return!1}return!0}()){j(!1),w(!1),P.current.disabled=!1;return}let t=await n.h.checkName(N),s=await n.h.checkName(b);if(console.log(b),t){m.current.innerHTML="Name already exists",m.current.style.color="red",p("error"),w(!1),j(!1),P.current.disabled=!1;return}if(s){h.current.innerHTML="Email already exists",h.current.style.color="red",w("error"),p(!1),j(!1),P.current.disabled=!1;return}p(!0),w(!0),j(!1),e.setParams({username:N,email:b}),e.swapPage("signup/finish")}catch(e){p(!1),w(!1),j(!1)}}return(0,a.jsxs)("div",{className:" relative    p-5 w-screen  justify-center flex flex-col gap-5 mx-auto   xl:w-[30vw] lg:w-[50vw]   ",children:[(0,a.jsxs)("div",{className:" mb-12 flex flex-col gap-5  w-full",children:[(0,a.jsx)("div",{className:"flex justify-between gap-2 hero",children:(0,a.jsx)("p",{className:"text-blue-500 cursor-pointer",onClick:()=>e.swapPage("login"),children:" Sign in"})}),(0,a.jsx)("p",{className:" mt-2 text-2xl w-full ",children:"Create your account"})]}),(0,a.jsx)("label",{htmlFor:"username",ref:m,children:"Name"}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{name:"username",value:N,onChange:e=>{u({...d,name:e.target.value}),y(e.target.value)},type:"text",className:"input input-bordered w-full"}),f&&!x?(0,a.jsx)("span",{className:"loading loading-spinner absolute end-5 top-1/2 transform -translate-y-1/2 right-3"}):"",!0===x?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-green-500 absolute end-5 top-1/2 transform -translate-y-1/2 right-3",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):"error"===x?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6    text-red-500 absolute end-5 top-1/2 transform -translate-y-1/2 right-3   ",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):""]}),(0,a.jsx)("label",{htmlFor:"email",ref:h,children:"Email"}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)("input",{name:"username",value:b,onChange:e=>{u({...d,email:e.target.value}),v(e.target.value)},type:"text",className:"input input-bordered w-full"}),f&&!x?(0,a.jsx)("span",{className:"loading loading-spinner absolute end-5 top-1/2 transform -translate-y-1/2 right-3"}):"",!0===g?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-green-500 absolute end-5 top-1/2 transform -translate-y-1/2 right-3",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):"error"===g?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6    text-red-500 absolute end-5 top-1/2 transform -translate-y-1/2 right-3   ",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}):""]}),(0,a.jsxs)("button",{ref:P,onClick:()=>{k()},className:"btn  text-white hover:bg-rose-500  bg-rose-500 relative",children:["Next",(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12.75 15l3-3m0 0l-3-3m3 3h-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]})]})}},8512:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(5893),l=s(2545),r=s(8565),n=s(230),o=s(7294);function i(e){let[t,s]=(0,o.useState)(!1),[i,c]=(0,o.useState)([]),[d,u]=(0,o.useState)({status:!1,type:""}),[m,h]=(0,o.useState)(""),x=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{s(!0),x.current||(x.current=!0,l.h.list({collection:"collections",expand:["posts","members"],filter:'owner="'.concat(l.h.authStore.model().id,'"')}).then(e=>{c(e.items)}))},[]),(0,a.jsx)(a.Fragment,{children:t?(0,a.jsxs)("div",{className:"relative xl:flex   lg:flex   xl:w-[80vw]   justify-center xl:mx-auto    ",children:[(0,a.jsx)(n.k,{...e}),(0,a.jsxs)("div",{className:" xl:mx-24     text-md      relative    xl:w-[35vw]   md:w-[50vw]    h-screen      xl:text-sm md:text-sm",children:[(0,a.jsxs)("div",{className:" flex justify-between mt-2 gap-5 hero ",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"xl:w-6 xl:h-6 w-5 h-5 cursor-pointer         ",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})}),(0,a.jsxs)("div",{className:"dropdown rounded w-full",children:[(0,a.jsx)("div",{tabIndex:0,role:"button",className:"w-full m-1",children:(0,a.jsx)("input",{onChange:e=>{h(e.target.value),e.target.value.length>0?(u({status:!0,type:"collections"}),l.h.list({collection:"collections",filter:'name~"'.concat(e.target.value,'"'),limit:10,page:0,sort:"-created",expand:["owner","members"]}).then(e=>{u({status:!1,type:"collections"}),c(null==e?void 0:e.items)})):c([])},type:"text",placeholder:"Find inspiration",className:"border focus:outline-none border-[#eaeaea] rounded-full p-3 w-full "})}),(0,a.jsx)("ul",{tabIndex:0,className:"dropdown-content z-[1] menu p-5 shadow bg-base-100 rounded-box w-full h-[15vh] ",children:(0,a.jsxs)("div",{className:"flex flex-col gap-5 hero mx-auto font-bold text-md",children:[(0,a.jsx)("p",{children:"Search for collections"}),d.status&&"search"==d.type?(0,a.jsx)("span",{className:"loading loading-spinner text-blue-500"}):"",i.length>0?i.map(e=>(0,a.jsxs)("div",{children:[e.name,(0,a.jsx)("button",{className:"btn",children:"Import"})]})):""]})})]}),(0,a.jsxs)("div",{className:"flex gap-5",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"})}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})})]})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("p",{className:"text-lg mt-12 font-bold",children:"Your Collections"}),0==i.length&&0==m.length?(0,a.jsxs)("div",{className:"flex flex-col gap-5 hero mx-auto font-bold text-md",children:[(0,a.jsx)("p",{children:"You don't have any collections yet"}),(0,a.jsx)("p",{children:"When you create a collection, it will appear here."}),(0,a.jsx)("button",{onClick:()=>{e.swapPage("createCollection")},className:"btn btn-md bg-blue-500 text-white",children:"Create a collection"})]}):"",0==i.length&&m.length>0?(0,a.jsxs)("div",{className:"flex flex-col gap-5 hero mx-auto font-bold text-md",children:[(0,a.jsx)("p",{children:"No collections found"}),(0,a.jsx)("p",{children:"Try searching for something else."})]}):"",i.length>0?(0,a.jsx)("div",{className:"flex flex-col gap-5  mt-5 font-bold text-md",children:i.map(e=>(0,a.jsx)("div",{className:"flex gap-2 flex-col",children:(0,a.jsxs)("div",{className:"flex gap-2 hero",children:[(0,a.jsx)("div",{className:"bg-blue-500 p-2 rounded-md",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-7 h-7",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M6 4.75A.75.75 0 0 1 6.75 4h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 4.75ZM6 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75A.75.75 0 0 1 6 10Zm0 5.25a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H6.75a.75.75 0 0 1-.75-.75ZM1.99 4.75a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1v-.01ZM1.99 15.25a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1v-.01ZM1.99 10a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v.01a1 1 0 0 1-1 1h-.01a1 1 0 0 1-1-1V10Z","clip-rule":"evenodd"})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("p",{children:[e.name," - Members: ",e.members.length]}),(0,a.jsx)("p",{children:"Test"})]})]})}))}):""]}),(0,a.jsx)("div",{className:"xl:hidden lg:hidden",children:(0,a.jsx)(r.L,{...e})})]}),(0,a.jsx)(n.h,{...e})]}):""})}},3985:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5893),l=s(3257),r=s(2545),n=s(7294),o=s(967),i=s(7588),c=s(6150),d=s(8833),u=s(8512),m=s(8540),h=s(5997),x=s(8767),p=s(6992),g=s(3387);function w(){let e=new URLSearchParams(window.location.search),[t,s]=(0,n.useState)(e.has("view")?"view":e.has("forgot_password")?"resetPassword":"home");window.location.href.includes("forgot_password")||"resetPassword"!=t||s("home");let[l,w]=(0,n.useState)({}),[j,b]=(0,n.useState)("home"),[v,N]=(0,n.useState)(!1),[y,P]=(0,n.useState)(!1),[k,S]=(0,n.useState)(e.has("view")),[M,C]=(0,n.useState)(!1),L=(0,n.useRef)(!1),T=window.matchMedia("(prefers-color-scheme: dark)").matches;switch(window.theme=T?"dark":"light",window.theme=T?"dark":"light",window.addEventListener("online",e=>{e.detail.online.get("latency")>2e3?N(!0):N(!1)}),(0,n.useEffect)(()=>{if(T&&document.documentElement.setAttribute("data-theme","black"),!L.current){L.current=!0,r.h.events.on("offline",()=>{N(!0)}),r.h.authStore.onChange(()=>{console.log(r.h.authStore.isValid()),!r.h.authStore.isValid()&&r.h.authStore.model()&&"login"!==t&&!k?r.h.authStore.refreshToken():r.h.authStore.isValid()&&(console.log("Auth store is valid"),s("home"))});let e=()=>{r.h.authStore.refreshToken(),setTimeout(()=>{e()},9e5)};e()}return()=>{L.current=!1}},[]),console.log(t),r.h.authStore.isValid()||"login"===t||"register"===t||"signup/finish"===t||"forgotPassword"===t||"resetPassword"===t||s("login"),(0,n.useEffect)(()=>{t!==j&&"user"!==t&&"settings"!==t&&"view"!==t&&b(t)},[t,j]),!0){case"home"==t:return(0,a.jsx)(i.default,{swapPage:s,setParams:w,params:l,theme:T?"dark":"light",setLastPage:b,currentPage:t,lastPage:j},crypto.randomUUID());case r.h.authStore.isValid()&&"user"==t:return(0,a.jsx)(o.default,{currentPage:t,swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,page:t},crypto.randomUUID());case r.h.authStore.isValid()&&"bookmarks"==t:return(0,a.jsx)(d.default,{swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,page:t},crypto.randomUUID());case r.h.authStore.isValid()&&"post"==t:return(0,a.jsx)(a.Fragment,{});case r.h.authStore.isValid()&&"collections"==t:return(0,a.jsx)(u.default,{swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,currentPage:t},crypto.randomUUID());case r.h.authStore.isValid()&&"settings"==t:return(0,a.jsx)(f,{swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,currentPage:t},crypto.randomUUID());case r.h.authStore.isValid()&&"view"==t||r.h.authStore.isValid()&&k:return(0,a.jsx)(x.default,{key:crypto.randomUUID(),swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,currentPage:t,id:e.get("id")||"",type:e.get("type")||""});case"register"==t:return(0,a.jsx)(p.default,{key:crypto.randomUUID(),swapPage:s,setParams:w,params:l,currentPage:t,setLastPage:b,lastPage:j});case"signup/finish"==t:return(0,a.jsx)(g.default,{key:crypto.randomUUID(),swapPage:s,setParams:w,params:l,currentPage:t,setLastPage:b,lastPage:j});case"forgotPassword"==t:return(0,a.jsx)(m.default,{swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,currentPage:t},crypto.randomUUID());case"resetPassword"==t:return(0,a.jsx)(h.default,{swapPage:s,setParams:w,params:l,setLastPage:b,lastPage:j,currentPage:t},crypto.randomUUID());default:return(0,a.jsx)(c.default,{swapPage:s,setParams:w,params:l,currentPage:t,setLastPage:b,lastPage:j},crypto.randomUUID())}}function f(e){return(0,a.jsxs)(w,{...e,children:[(0,a.jsxs)("div",{className:" xl:w-[35vw]   md:w-[50vw]   p-5 mt-5  mx-auto flex flex-col gap-5",children:[(0,a.jsxs)("div",{className:"flex hero gap-5",children:[(0,a.jsx)("div",{className:"hover:border-slate-200 hover:bg-white btn-ghost btn btn-circle btn-sm bg-white",children:(0,a.jsx)("svg",{onClick:()=>{let t=e.lastPage;e.swapPage(t)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"xl:w-6 xl:h-6 w-5 h-5 cursor-pointer         ",children:(0,a.jsx)("path",{"fill-rule":"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z","clip-rule":"evenodd"})})}),(0,a.jsx)("h1",{className:"text-xl flex hero gap-2",children:" Settings"})]}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-col ",children:[(0,a.jsx)("h1",{children:"Account Management"}),(0,a.jsx)("p",{className:"opacity-50 text-sm",children:"Manage your account, change password details and more"})]}),(0,a.jsxs)("div",{className:"mt-2 gap-2 flex",children:[(0,a.jsx)("button",{className:"btn-ghost btn-sm rounded-full border-slate-200",onClick:()=>{var e;null===(e=document.getElementById("change_password"))||void 0===e||e.showModal()},children:"Change Password"}),(0,a.jsx)("button",{className:"btn-ghost btn-sm rounded-full border-slate-200",children:"Request Account Data"})]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsx)("h1",{children:"Manage Subscriptions"})}),r.h.authStore.model().postr_plus?(0,a.jsxs)("div",{className:"p-5 bg-base-200 rounded-xl",children:[(0,a.jsx)("p",{className:"from-blue-500 to-purple-500 bg-gradient-to-r  text-transparent bg-clip-text font-bold",children:"Postr++"}),(0,a.jsx)("p",{children:"Status: Subscribed"}),(0,a.jsx)("p",{children:"Next Payment: 6/25/2024"})]}):(0,a.jsx)("div",{className:"p-5 bg-base-200",children:(0,a.jsx)("p",{children:"Status: Not Subscribed"})})]})]}),(0,a.jsx)(l.Z,{id:"change_password",className:"xl:h-[400px] md:h-[400px] h-[390px] xl:w-[500px] md:w-[500px] rounded-md",children:(0,a.jsx)("form",{method:"dialog",children:(0,a.jsxs)("div",{className:"w-full flex flex-col gap-5 p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h1",{children:"Change Password"}),(0,a.jsx)("button",{type:"submit",className:"text-blue-500",children:"Cancel"})]}),(0,a.jsx)("input",{type:"password",placeholder:"Current Password",className:"input input-bordered"}),(0,a.jsx)("label",{children:"New Password"}),(0,a.jsx)("input",{type:"password",placeholder:"New Password",className:"input input-bordered"}),(0,a.jsx)("input",{type:"password",placeholder:"Confirm new Password",className:"input input-bordered"}),(0,a.jsx)("button",{className:"btn btn-ghost border-slate-200 ",children:"Confirm Password Change"})]})})})]})}},8767:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(5893),l=s(2545),r=s(230),n=s(5415),o=s(2506),i=s(7294),c=s(3054),d=s(8565);function u(e){let[t,s]=(0,i.useState)(null);return(0,i.useEffect)(()=>{e.params.hasOwnProperty("post")?s(e.params.post):l.h.read({collection:e.type||e.params.type,id:e.id||e.params.id,cacheKey:"".concat(e.type||e.params.type,"-").concat(e.id||e.params.id,"-status"),expand:["author","comments","comments.user","likes","followers","following"]}).then(e=>{s(e)})},[]),(0,i.useEffect)(()=>{if(t){window.engamentReferer=t.id;let a=t.views;a.includes(l.h.authStore.model().id)||(a.push(l.h.authStore.model().id),l.h.update({collection:"posts",id:e.id||e.params.id,cacheKey:"".concat(e.type||e.params.type,"-").concat(e.id||e.params.id,"-status"),invalidateCache:["user-home-feed-".concat(l.h.authStore.model().id),"user-feed-posts-1-".concat(t.author)],record:{views:a}}).then(e=>{s({...t,views:a})})),document.title="".concat(t.expand.author.username.charAt(0).toUpperCase()+t.expand.author.username.slice(1),' on Postr "').concat(t.content.slice(0,20),'..." - Postr')}},[t]),console.log(t),(0,a.jsxs)("div",{className:" relative xl:flex  2xl:w-[80vw]  lg:flex w-full  justify-center xl:mx-auto",children:[(0,a.jsx)(r.k,{...e}),(0,a.jsxs)("div",{className:"  xl:w-[35vw]\n         md:w-[50vw]  xl:mx-24 \n         ".concat("dark"==theme?"\n            ".concat(t&&t.comments.length>0&&"border-[#121212] border-2","\n            "):t&&t.comments.length>0&&"border-[#f8f7f7] border-2","\n         "),children:[(0,a.jsxs)("div",{className:"flex hero gap-5  p-2 xl:mx-5 lg:mx-5 md:mx-5 \n        ".concat("dark"==theme?"bg-black text-white":"bg-white text-black","    \n        w-full"),children:[(0,a.jsx)("div",{className:"\n        ".concat("dark"==theme?"bg-black text-white fill-white hover:border-slate-200":"hover:border-slate-200 hover:bg-white","\n        btn-ghost btn btn-circle btn-sm    "),children:(0,a.jsx)("span",{"data-tip":"Go back",className:"tooltip tooltip-bottom",children:(0,a.jsx)("svg",{onClick:()=>{let t=e.lastPage;e.swapPage(t)},viewBox:"0 0 24 24","aria-hidden":"true",className:"w-6 h-6 cursor-pointer  xl:w-6 xl:h-6 ",children:(0,a.jsx)("g",{children:(0,a.jsx)("path",{d:"M7.414 13l5.043 5.04-1.414 1.42L3.586 12l7.457-7.46 1.414 1.42L7.414 11H21v2H7.414z"})})})})}),(0,a.jsx)("h1",{children:e.type.charAt(0).toUpperCase()+e.type.slice(1)})]}),(0,a.jsxs)("div",{className:" mt-5",children:[t?(0,a.jsx)(o.Z,{...t,showFullDate:!0,showFullContent:!0,actions:{clicks_user_profile:()=>{window.referedFrom="status_"+t.id}},cacheKey:"".concat(e.type||e.params.type,"-").concat(e.id||e.params.id,"-status"),...e}):(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"flex flex-col gap-5 w-full",children:(0,a.jsx)(n.g,{})})}),t?(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"flex flex-col  w-full",children:t.expand.comments&&t.expand.comments.length>0?t.expand.comments.map(s=>(console.log(s),(0,a.jsx)("div",{style:{borderTop:"dark"==theme?"1px solid #121212":"1px solid #f8f7f7"},className:"\n                                         \n                                        ",children:(0,a.jsx)(c.Z,{...s,currentPage:e.currentPage,post:t,user:s.expand.user,statusPage:!0})},s.id))):(0,a.jsxs)("div",{className:"mx-auto justify-center w-full flex mt-2 hero flex-col",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center",children:"No Comments \uD83D\uDE22"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm  text-center prose w-[300px] break-normal mt-6 ",children:"Be the first to comment on this post."})]})})}):""]})]}),(0,a.jsx)(r.h,{...e}),(0,a.jsx)("div",{className:"xl:hidden lg:hidden",children:(0,a.jsx)(d.L,{...e})})]})}}},function(e){e.O(0,[774,269,545,355,506,967,588,888,179],function(){return e(e.s=2099)}),_N_E=e.O()}]);